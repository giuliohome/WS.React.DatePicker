function ignore(){}function id(n){return n}function fst(n){return n[0]}function snd(n){return n[1]}function trd(n){return n[2]}IntelliFactory={Runtime:{Ctor:function(n,t){return n.prototype=t.prototype,n},Class:function(n,t,i){var u=n,f,r,e;if(t){u=new t;for(f in n)u[f]=n[f]}if(r=function(n){if(n)for(var t in n)this[t]=n[t]},r.prototype=u,i)for(e in i)r[e]=i[e];return r},Clone:function(n){var t={};for(var i in n)t[i]=n[i];return t},NewObject:function(n){for(var i={},t=0;t<n.length;t++)i[n[t][0]]=n[t][1];return i},DeleteEmptyFields:function(n,t){for(var r,i=0;i<t.length;i++)r=t[i],n[r]===void 0&&delete n[r];return n},GetOptional:function(n){return n===void 0?null:{$:1,$0:n}},SetOptional:function(n,t,i){i?n[t]=i.$0:delete n[t]},SetOrDelete:function(n,t,i){i===void 0?delete n[t]:n[t]=i},Apply:function(n,t,i){return n.apply(t,i)},Bind:function(n){return function(){return n.apply(this,arguments)}},CreateFuncWithArgs:function(n){return function(){return n(Array.prototype.slice.call(arguments))}},CreateFuncWithOnlyThis:function(n){return function(){return n(this)}},CreateFuncWithThis:function(n){return function(){return n(this).apply(null,arguments)}},CreateFuncWithThisArgs:function(n){return function(){return n(this)(Array.prototype.slice.call(arguments))}},CreateFuncWithRest:function(n,t){return function(){return t(Array.prototype.slice.call(arguments,0,n).concat([Array.prototype.slice.call(arguments,n)]))}},CreateFuncWithArgsRest:function(n,t){return function(){return t([Array.prototype.slice.call(arguments,0,n),Array.prototype.slice.call(arguments,n)])}},BindDelegate:function(n,t){var i=n.bind(t);return i.$Func=n,i.$Target=t,i},CreateDelegate:function(n){if(n.length==0)return null;if(n.length==1)return n[0];var t=function(){for(var i,t=0;t<n.length;t++)i=n[t].apply(null,arguments);return i};return t.$Invokes=n,t},CombineDelegates:function(n){for(var t,i=[],r=0;r<n.length;r++)t=n[r],t&&("$Invokes"in t?i=i.concat(t.$Invokes):i.push(t));return IntelliFactory.Runtime.CreateDelegate(i)},DelegateEqual:function(n,t){var f,e,i,r,u;if(n===t)return!0;if(n==null||t==null||(f=n.$Invokes||[n],e=t.$Invokes||[t],f.length!=e.length))return!1;for(i=0;i<f.length;i++)if(r=f[i],u=e[i],!(r===u||"$Func"in r&&"$Func"in u&&r.$Func===u.$Func&&r.$Target==u.$Target))return!1;return!0},ThisFunc:function(n){return function(){var t=Array.prototype.slice.call(arguments);return t.unshift(this),n.apply(null,t)}},ThisFuncOut:function(n){return function(){var t=Array.prototype.slice.call(arguments);return n.apply(t.shift(),t)}},ParamsFunc:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(null,i.slice(0,n).concat([i.slice(n)]))}},ParamsFuncOut:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(null,i.slice(0,n).concat(i[n]))}},ThisParamsFunc:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return i.unshift(this),t.apply(null,i.slice(0,n+1).concat([i.slice(n+1)]))}},ThisParamsFuncOut:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(i.shift(),i.slice(0,n).concat(i[n]))}},Curried:function(n,t,i){return i=i||[],function(r){var u=i.concat([r===void 0?null:r]);return t==1?n.apply(null,u):t==2?function(t){return n.apply(null,u.concat([t===void 0?null:t]))}:IntelliFactory.Runtime.Curried(n,t-1,u)}},Curried2:function(n){return function(t){return function(i){return n(t,i)}}},Curried3:function(n){return function(t){return function(i){return function(r){return n(t,i,r)}}}},UnionByType:function(n,t,i){for(var u,f=typeof t,r=0;r<n.length;r++)if(u=n[r],typeof u=="number"){if(Array.isArray(t)&&(u==0||t.length==u))return{$:r,$0:t}}else if(u==f)return{$:r,$0:t};if(!i)throw new Error("Type not expected for creating Choice value.");},ScriptBasePath:"./",ScriptPath:function(n,t){return this.ScriptBasePath+(this.ScriptSkipAssemblyDir?"":n+"/")+t},OnLoad:function(n){"load"in this||(this.load=[]);this.load.push(n)},Start:function(){function n(n){for(var t=0;t<n.length;t++)n[t]()}"load"in this&&(n(this.load),this.load=[])}}};IntelliFactory.Runtime.OnLoad(function(){self.WebSharper&&WebSharper.Activator&&WebSharper.Activator.Activate&&WebSharper.Activator.Activate()});Date.now||(Date.now=function(){return(new Date).getTime()});Math.trunc||(Math.trunc=function(n){return n<0?Math.ceil(n):Math.floor(n)});Object.setPrototypeOf||(Object.setPrototypeOf=function(n,t){return n.__proto__=t,n});console||(console={count:ignore,dir:ignore,error:ignore,group:ignore,groupEnd:ignore,info:ignore,log:ignore,profile:ignore,profileEnd:ignore,time:ignore,timeEnd:ignore,trace:ignore,warn:ignore});
/* https://github.com/jonathantneal/closest */
(function(w,p){p=w.Element.prototype
if(!p.matches){p.matches=p.msMatchesSelector||function(s){var m=(this.document||this.ownerDocument).querySelectorAll(s);for(var i=0;m[i]&&m[i]!==e;++i);return!!m[i]}}
if(!p.closest){p.closest=function(s){var e=this;while(e&&e.nodeType==1){if(e.matches(s))return e;e=e.parentNode}return null}}})(this);
(function(){for(var i=0,t=["webkit","moz"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(n){var t=(new Date).getTime(),r=Math.max(0,16-(t-i)),u=window.setTimeout(function(){n(t+r)},r);return i=t+r,u});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(n){clearTimeout(n)})})();
(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,_5,_6,_7,_8,_9,_,$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ,bK,bL,bM,bN,bO,bP,bQ,bR,bS,bT,bU,bV,bW,bX,bY,bZ,b0,b1,b2,b3,b4;a=self;b=a.SPA=a.SPA||{};c=b.Client=b.Client||{};d=a.WebSharper=a.WebSharper||{};e=d.Obj=d.Obj||{};f=d.UI=d.UI||{};g=f.Var$1=f.Var$1||{};h=d.Operators=d.Operators||{};i=f.Templating=f.Templating||{};j=i.Runtime=i.Runtime||{};k=j.Server=j.Server||{};l=k.TemplateInstance=k.TemplateInstance||{};m=d.Arrays=d.Arrays||{};n=k.ProviderBuilder=k.ProviderBuilder||{};o=f.ListModel=f.ListModel||{};p=d.Unchecked=d.Unchecked||{};q=a.SPA_Templates=a.SPA_Templates||{};r=k.Handler=k.Handler||{};s=f.Var=f.Var||{};t=a.ReactHook=a.ReactHook||{};u=t.React=t.React||{};v=t.HelloWorld=t.HelloWorld||{};w=d.React=d.React||{};x=w.ReactModule=w.ReactModule||{};y=f.View=f.View||{};z=f.ConcreteVar=f.ConcreteVar||{};A=f.Snap=f.Snap||{};B=a.System=a.System||{};C=B.Guid=B.Guid||{};D=d.Collections=d.Collections||{};E=D.List=D.List||{};F=a.StartupCode$SPA$Client=a.StartupCode$SPA$Client||{};G=f.Client=f.Client||{};H=G.Templates=G.Templates||{};I=f.Doc=f.Doc||{};J=d.JavaScript=d.JavaScript||{};K=J.Pervasives=J.Pervasives||{};L=f.AttrProxy=f.AttrProxy||{};M=w.Html=w.Html||{};N=d.Utils=d.Utils||{};O=a.UIBase=a.UIBase||{};P=O.MyVars=O.MyVars||{};Q=f.Abbrev=f.Abbrev||{};R=Q.Fresh=Q.Fresh||{};S=D.Dictionary=D.Dictionary||{};T=a.Object;U=f.CheckedInput=f.CheckedInput||{};V=d.Numeric=d.Numeric||{};W=D.HashSet=D.HashSet||{};X=d.Seq=d.Seq||{};Y=k.TemplateInitializer=k.TemplateInitializer||{};Z=a.EventTarget;_0=a.Node;_1=J.JS=J.JS||{};_2=f.Attrs=f.Attrs||{};_3=f.DomUtility=f.DomUtility||{};_4=D.DictionaryUtil=D.DictionaryUtil||{};_5=d.Enumerator=d.Enumerator||{};_6=_5.T=_5.T||{};_7=a.StartupCode$WebSharper_UI$Templates=a.StartupCode$WebSharper_UI$Templates||{};_8=a.WindowOrWorkerGlobalScope;_9=f.Docs=f.Docs||{};_=d.DateUtil=d.DateUtil||{};$=a.StartupCode$WebSharper_UI$Abbrev=a.StartupCode$WebSharper_UI$Abbrev||{};ba=f.DocElemNode=f.DocElemNode||{};bb=a.CharacterData;bc=f.Storage=f.Storage||{};bd=f.Elt=f.Elt||{};be=H.Prepare=H.Prepare||{};bf=d.Slice=d.Slice||{};bg=D.KeyCollection=D.KeyCollection||{};bh=f.An=f.An||{};bi=G.Settings=G.Settings||{};bj=Q.Mailbox=Q.Mailbox||{};bk=f.Array=f.Array||{};bl=G.Attrs=G.Attrs||{};bm=bl.Dyn=bl.Dyn||{};bn=bc.ArrayStorage=bc.ArrayStorage||{};bo=f.AttrModule=f.AttrModule||{};bp=d.List=d.List||{};bq=bp.T=bp.T||{};br=d.Strings=d.Strings||{};bs=f.Updates=f.Updates||{};bt=D.ValueCollection=D.ValueCollection||{};bu=G.Docs=G.Docs||{};bv=bu.RunState=bu.RunState||{};bw=bu.NodeSet=bu.NodeSet||{};bx=d.Concurrency=d.Concurrency||{};by=f.Anims=f.Anims||{};bz=a.StartupCode$WebSharper_UI$Doc_Proxy=a.StartupCode$WebSharper_UI$Doc_Proxy||{};bA=d.Queue=d.Queue||{};bB=D.HashSetUtil=D.HashSetUtil||{};bC=f.BindVar=f.BindVar||{};bD=a.StartupCode$WebSharper_UI$DomUtility=a.StartupCode$WebSharper_UI$DomUtility||{};bE=a.StartupCode$WebSharper_UI$Animation=a.StartupCode$WebSharper_UI$Animation||{};bF=f.AppendList=f.AppendList||{};bG=a.StartupCode$WebSharper_UI$Attr_Client=a.StartupCode$WebSharper_UI$Attr_Client||{};bH=f.DynamicAttrNode=f.DynamicAttrNode||{};bI=bx.Scheduler=bx.Scheduler||{};bJ=f.Easing=f.Easing||{};bK=bx.AsyncBody=bx.AsyncBody||{};bL=a.StartupCode$WebSharper_Main$Concurrency=a.StartupCode$WebSharper_Main$Concurrency||{};bM=bx.CT=bx.CT||{};bN=Q.HashSet=Q.HashSet||{};bO=f.String=f.String||{};bP=d.CancellationTokenSource=d.CancellationTokenSource||{};bQ=bu.DomNodes=bu.DomNodes||{};bR=d.Char=d.Char||{};bS=a.Error;bT=d.OperationCanceledException=d.OperationCanceledException||{};bU=d.Lazy=d.Lazy||{};bV=a.StartupCode$WebSharper_UI$AppendList=a.StartupCode$WebSharper_UI$AppendList||{};bW=d.LazyExtensionsProxy=d.LazyExtensionsProxy||{};bX=bW.LazyRecord=bW.LazyRecord||{};bY=a.ReactDOM;bZ=a.IntelliFactory;b0=bZ&&bZ.Runtime;b1=a.React;b2=a.Date;b3=a.console;b4=a.Math;c.Main=function(){var b5,b6,b7,b8,b9,b_,b$,ca,cb,cc,cd;b5=g.Create$1("");b6=(b7=(b8=(b9=(b_=I.Convert(function(ce){var cf,cg,ch,ci;return(cf=(cg=new n.New$1(),(cg.h.push({$:1,$0:"name",$1:ce}),cg)),(ch=r.CompleteHoles(cf.k,cf.h,[]),(ci=new l.New(ch[1],q.listitem(ch[0])),cf.i=ci,ci))).get_Doc();},c.People().v),(b$=new n.New$1(),(b$.h.push({$:0,$0:"listcontainer",$1:b_}),b$))),(b9.h.push({$:8,$0:"name",$1:b5}),b9)),(b8.h.push(r.EventQ2(b8.k,"add",function(){return b8.i;},function(){c.People().Append(b5.Get());b5.Set("");})),b8)),(ca=r.CompleteHoles(b7.k,b7.h,[["name",0]]),(cb=new l.New(ca[1],q.main(ca[0])),b7.i=cb,cb))).get_Doc();H.LoadLocalTemplates("");I.RunById("main",b6);cc=I.Element("div",[],[I.Element("p",[],[I.TextView((cd=c.count().get_View(),y.Map(function(ce){return function(cf){return ce("You clicked "+a.String(cf)+" times");};}(a.id),cd)))]),I.Element("button",[L.HandlerImpl("click",function(){return function(){var ce;ce=c.count().Get()+1;c.count().Set(ce);return(u.setCount())(ce);};})],[I.TextNode("W# UI Click Me!")]),I.Element("div",[L.OnAfterRenderImpl(function(ce){bY.render(u.FunctionComponent(v.Example,null),ce);})],[])]);H.LoadLocalTemplates("");I.RunById("mainUI",cc);};c.People=function(){F.$cctor();return F.People;};c.count=function(){F.$cctor();return F.count$1;};e=d.Obj=b0.Class({Equals:function(b5){return this===b5;},GetHashCode:function(){return -1;}},null,e);e.New=b0.Ctor(function(){},e);g=f.Var$1=b0.Class({},e,g);g.Create$1=function(b5){return new z.New(false,A.New({$:2,$0:b5,$1:[]}),b5);};h.FailWith=function(b5){throw new bS(b5);};h.KeyValue=function(b5){return[b5.K,b5.V];};l=k.TemplateInstance=b0.Class({get_Doc:function(){return this.doc;}},e,l);l.New=b0.Ctor(function(b5,b6){e.New.call(this);this.doc=b6;this.allVars=b5.$==0?b5.$0:h.FailWith("Should not happen");},l);m.get=function(b5,b6){m.checkBounds(b5,b6);return b5[b6];};m.set=function(b5,b6,b7){m.checkBounds(b5,b6);b5[b6]=b7;};m.checkBounds=function(b5,b6){if(b6<0||b6>=b5.length)h.FailWith("Index was outside the bounds of the array.");};m.length=function(b5){return b5.dims===2?b5.length*b5.length:b5.length;};n=k.ProviderBuilder=b0.Class({},e,n);n.New$1=b0.Ctor(function(){var b5;e.New.call(this);this.i=null;this.k=(b5=C.NewGuid(),a.String(b5));this.h=[];b0.SetOptional(this,"s",null);},n);o=f.ListModel=b0.Class({Append:function(b5){var b6,b7,b8,b9;b6=this;b7=this["var"].Get();b8=this.key(b5);b9=m.tryFindIndex(function(b_){return p.Equals(b6.key(b_),b8);},b7);b9!=null&&b9.$==1?this["var"].Set(this.storage.SSetAt(b9.$0,b5,b7)):this["var"].Set(this.storage.SAppend(b5,b7));this.ObsoleteKey(b8);},ObsoleteKey:function(b5){var b6,b7;b6=(b7=null,[this.it.TryGetValue(b5,{get:function(){return b7;},set:function(b8){b7=b8;}}),b7]);b6[0]?(A.Obsolete(b6[1]),this.it.Remove(b5)):void 0;},GetEnumerator:function(){return _5.Get(this["var"].Get());},GetEnumerator0:function(){return _5.Get0(this["var"].Get());}},e,o);o.New=b0.Ctor(function(b5,b6){o.New$3.call(this,b5,g.Create$1(m.ofSeq(X.distinctBy(b5,b6.SInit()))),b6);},o);o.New$3=b0.Ctor(function(b5,b6,b7){e.New.call(this);this.key=b5;this["var"]=b6;this.storage=b7;this.v=y.Map(function(b8){return b8.slice();},this["var"].get_View());this.it=new S.New$5();},o);p.Equals=function(b5,b6){var b7,b8,b9,b_;if(b5===b6)return true;else{b7=typeof b5;if(b7=="object"){if(b5===null||b5===void 0||b6===null||b6===void 0)return false;else if("Equals"in b5)return b5.Equals(b6);else if(b5 instanceof a.Array&&b6 instanceof a.Array)return p.arrayEquals(b5,b6);else if(b5 instanceof a.Date&&b6 instanceof a.Date)return p.dateEquals(b5,b6);else{b8=[true];for(var b$ in b5)if(function(ca){b8[0]=!b5.hasOwnProperty(ca)||b6.hasOwnProperty(ca)&&p.Equals(b5[ca],b6[ca]);return!b8[0];}(b$))break;if(b8[0]){for(var ca in b6)if(function(cb){b8[0]=!b6.hasOwnProperty(cb)||b5.hasOwnProperty(cb);return!b8[0];}(ca))break;}return b8[0];}}else return b7=="function"&&("$Func"in b5?b5.$Func===b6.$Func&&b5.$Target===b6.$Target:"$Invokes"in b5&&"$Invokes"in b6&&p.arrayEquals(b5.$Invokes,b6.$Invokes));}};p.arrayEquals=function(b5,b6){var b7,b8;if(m.length(b5)===m.length(b6)){b7=true;b8=0;while(b7&&b8<m.length(b5)){!p.Equals(m.get(b5,b8),m.get(b6,b8))?b7=false:void 0;b8=b8+1;}return b7;}else return false;};p.dateEquals=function(b5,b6){return b5.getTime()===b6.getTime();};p.Hash=function(b5){var b6;b6=typeof b5;return b6=="function"?0:b6=="boolean"?b5?1:0:b6=="number"?b5:b6=="string"?p.hashString(b5):b6=="object"?b5==null?0:b5 instanceof a.Array?p.hashArray(b5):p.hashObject(b5):0;};p.hashString=function(b5){var b6,b7,b8;if(b5===null)return 0;else{b6=5381;for(b7=0,b8=b5.length-1;b7<=b8;b7++)b6=p.hashMix(b6,b5[b7].charCodeAt());return b6;}};p.hashArray=function(b5){var b6,b7,b8;b6=-34948909;for(b7=0,b8=m.length(b5)-1;b7<=b8;b7++)b6=p.hashMix(b6,p.Hash(m.get(b5,b7)));return b6;};p.hashObject=function(b5){var b6,b7;if("GetHashCode"in b5)return b5.GetHashCode();else{b6=[0];for(var b8 in b5)if(function(b9){b6[0]=p.hashMix(p.hashMix(b6[0],p.hashString(b9)),p.Hash(b5[b9]));return false;}(b8))break;return b6[0];}};p.hashMix=function(b5,b6){return(b5<<5)+b5+b6;};p.Compare=function(b5,b6){var b7,b8,b9,b_,b$,ca;if(b5===b6)return 0;else{b8=typeof b5;switch(b8=="function"?1:b8=="boolean"?2:b8=="number"?2:b8=="string"?2:b8=="object"?3:0){case 0:return typeof b6=="undefined"?0:-1;case 1:return h.FailWith("Cannot compare function values.");case 2:return b5<b6?-1:1;case 3:if(b5===null)b9=-1;else if(b6===null)b9=1;else if("CompareTo"in b5)b9=b5.CompareTo(b6);else if("CompareTo0"in b5)b9=b5.CompareTo0(b6);else if(b5 instanceof a.Array&&b6 instanceof a.Array)b9=p.compareArrays(b5,b6);else if(b5 instanceof a.Date&&b6 instanceof a.Date)b9=p.compareDates(b5,b6);else{b_=[0];for(var cb in b5)if(function(cc){return!b5.hasOwnProperty(cc)?false:!b6.hasOwnProperty(cc)?(b_[0]=1,true):(b_[0]=p.Compare(b5[cc],b6[cc]),b_[0]!==0);}(cb))break;if(b_[0]===0){for(var cc in b6)if(function(cd){return!b6.hasOwnProperty(cd)?false:!b5.hasOwnProperty(cd)&&(b_[0]=-1,true);}(cc))break;}b9=b_[0];}return b9;}}};p.compareArrays=function(b5,b6){var b7,b8;if(m.length(b5)<m.length(b6))return -1;else if(m.length(b5)>m.length(b6))return 1;else{b7=0;b8=0;while(b7===0&&b8<m.length(b5)){b7=p.Compare(m.get(b5,b8),m.get(b6,b8));b8=b8+1;}return b7;}};p.compareDates=function(b5,b6){return p.Compare(b5.getTime(),b6.getTime());};q.listitem=function(b5){H.LoadLocalTemplates("index");return b5?H.NamedTemplate("index",{$:1,$0:"listitem"},b5):void 0;};q.main=function(b5){H.LoadLocalTemplates("index");return b5?H.NamedTemplate("index",{$:1,$0:"main"},b5):void 0;};r.EventQ2=function(b5,b6,b7,b8){return{$:5,$0:b6,$1:function(b9){return function(b_){return b8({Vars:b7(),Target:b9,Event:b_});};}};};r.CompleteHoles=function(b5,b6,b7){var b9,b_,b$,ca,cb;function b8(cc,cd){var ce;return b_.Contains(cc)?null:(ce=cd===0?Y.GetOrAddHoleFor(b5,cc,function(){return{$:8,$0:cc,$1:g.Create$1("")};}):cd===1?Y.GetOrAddHoleFor(b5,cc,function(){return{$:13,$0:cc,$1:g.Create$1(0)};}):cd===2?Y.GetOrAddHoleFor(b5,cc,function(){return{$:9,$0:cc,$1:g.Create$1(false)};}):h.FailWith("Invalid value type"),(b9.set_Item(cc,ce),{$:1,$0:ce}));}b9=new S.New$5();b_=new W.New$3();b$=_5.Get(b6);try{while(b$.MoveNext()){ca=b$.Current();cb=ca.$0;b_.Add(cb);b9.set_Item(cb,ca);}}finally{if(typeof b$=="object"&&"Dispose"in b$)b$.Dispose();}return[X.append(b6,m.choose(function(cc){return b8(cc[0],cc[1]);},b7)),{$:0,$0:b9}];};s=f.Var=b0.Class({},e,s);s.New=b0.Ctor(function(){e.New.call(this);},s);u.setCount=function(){F.$cctor();return F.setCount;};u.FunctionComponent=function(b5,b6){return b1.createElement(b5,b6);};u.set_setCount=function(b5){F.$cctor();F.setCount=b5;};v.Example=function(){var b5,b6,b7,b8,b9,b_,b$;b5=b1.useState(0);b6=b5[1];b7=b5[0];b8=b1.useState(new a.Date((b9=b2.now(),_.DatePortion(b9))));b_=b8[0];b$=b1.createElement("DatePicker",{selected:b_,onChange:b8[1]});u.set_setCount(b6);return b1.createElement("div",null,b$,b1.createElement("p",null,(M.textf(function(ca){return function(cb){return ca("You selected "+N.toSafe(cb)+" date");};}))(b_.toDateString())),b1.createElement("p",null,(M.textf(function(ca){return function(cb){return ca("You clicked "+a.String(cb)+" times");};}))(b7)),b1.createElement("button",{onClick:function(){b6(b7+1);P.count().Set(b7+1);}},"W# React Click me"));};x.elt=function(b5,b6,b7){return b1.createElement(b5,b6,x.inlineArrayOfSeq(b7));};x.inlineArrayOfSeq=function(b5){return b5 instanceof a.Array?b5:m.ofSeq(b5);};y.Map=function(b5,b6){return y.CreateLazy(function(){return A.Map(b5,b6());});};y.CreateLazy=function(b5){var b6;b6={c:null,o:b5};return function(){var b7,b8;b7=b6.c;return b7===null?(b7=b6.o(),b6.c=b7,(b8=b7.s,b8!=null&&b8.$==0)?b6.o=null:A.WhenObsoleteRun(b7,function(){b6.c=null;}),b7):b7;};};y.Const=function(b5){var b6;b6=A.New({$:0,$0:b5});return function(){return b6;};};y.MapSeqCached=function(b5,b6){return y.MapSeqCachedBy(a.id,b5,b6);};y.MapSeqCachedBy=function(b5,b6,b7){var b8;b8=[new S.New$5()];return y.Map(function(b9){var b_,b$,ca;b_=b8[0];b$=new S.New$5();ca=bk.mapInPlace(function(cb){var cc,cd;cc=b5(cb);cd=b_.ContainsKey(cc)?b_.get_Item(cc):b6(cb);b$.set_Item(cc,cd);return cd;},m.ofSeq(b9));b8[0]=b$;return ca;},b7);};y.Sink=function(b5,b6){function b7(){A.WhenRun(b6(),b5,function(){bx.scheduler().Fork(b7);});}bx.scheduler().Fork(b7);};y.Bind=function(b5,b6){return y.Join(y.Map(b5,b6));};y.Map3=function(b5,b6,b7,b8){return y.CreateLazy(function(){return A.Map3(b5,b6(),b7(),b8());});};y.Sequence=function(b5){return y.CreateLazy(function(){return A.Sequence(X.map(function(b6){return b6();},b5));});};y.Map2=function(b5,b6,b7){return y.CreateLazy(function(){return A.Map2(b5,b6(),b7());});};y.Map2Unit=function(b5,b6){return y.CreateLazy(function(){return A.Map2Unit(b5(),b6());});};y.Join=function(b5){return y.CreateLazy(function(){return A.Join(b5());});};z=f.ConcreteVar=b0.Class({Set:function(b5){if(this.isConst)(function(b6){return b6("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal");}(function(b6){b3.log(b6);}));else{A.Obsolete(this.snap);this.current=b5;this.snap=A.New({$:2,$0:b5,$1:[]});}},get_View:function(){return this.view;},Get:function(){return this.current;},UpdateMaybe:function(b5){var b6;b6=b5(this.Get());b6!=null&&b6.$==1?this.Set(b6.$0):void 0;}},s,z);z.New=b0.Ctor(function(b5,b6,b7){var b8;b8=this;s.New.call(this);this.isConst=b5;this.current=b7;this.snap=b6;this.view=function(){return b8.snap;};this.id=R.Int();},z);A.Map=function(b5,b6){var b7,b8;b7=b6.s;return b7!=null&&b7.$==0?A.New({$:0,$0:b5(b7.$0)}):(b8=A.New({$:3,$0:[],$1:[]}),(A.When(b6,function(b9){A.MarkDone(b8,b6,b5(b9));},b8),b8));};A.WhenObsoleteRun=function(b5,b6){var b7;b7=b5.s;b7==null?b6():b7!=null&&b7.$==2?b7.$1.push(b6):b7!=null&&b7.$==3?b7.$1.push(b6):void 0;};A.When=function(b5,b6,b7){var b8;b8=b5.s;b8==null?A.Obsolete(b7):b8!=null&&b8.$==2?(A.EnqueueSafe(b8.$1,b7),b6(b8.$0)):b8!=null&&b8.$==3?(b8.$0.push(b6),A.EnqueueSafe(b8.$1,b7)):b6(b8.$0);};A.MarkDone=function(b5,b6,b7){var b8;if(b8=b6.s,b8!=null&&b8.$==0)A.MarkForever(b5,b7);else A.MarkReady(b5,b7);};A.EnqueueSafe=function(b5,b6){var b7,b8,b9,b_;b5.push(b6);if(b5.length%20===0){b7=b5.slice(0);bA.Clear(b5);for(b8=0,b9=m.length(b7)-1;b8<=b9;b8++){b_=m.get(b7,b8);typeof b_=="object"?function(b$){if(b$.s)b5.push(b$);}(b_):function(b$){b5.push(b$);}(b_);}}else void 0;};A.MarkForever=function(b5,b6){var b7,b8,b9,b_;b7=b5.s;if(b7!=null&&b7.$==3){b5.s={$:0,$0:b6};b8=b7.$0;for(b9=0,b_=m.length(b8)-1;b9<=b_;b9++)(m.get(b8,b9))(b6);}else void 0;};A.MarkReady=function(b5,b6){var b7,b8,b9,b_;b7=b5.s;if(b7!=null&&b7.$==3){b5.s={$:2,$0:b6,$1:b7.$1};b8=b7.$0;for(b9=0,b_=m.length(b8)-1;b9<=b_;b9++)(m.get(b8,b9))(b6);}else void 0;};A.WhenRun=function(b5,b6,b7){var b8;b8=b5.s;b8==null?b7():b8!=null&&b8.$==2?(b8.$1.push(b7),b6(b8.$0)):b8!=null&&b8.$==3?(b8.$0.push(b6),b8.$1.push(b7)):b6(b8.$0);};A.Map3=function(b5,b6,b7,b8){var b9,b_,b$,ca;function cb(cc){var cd,ce,cf,cg;if(!(cd=ca.s,cd!=null&&cd.$==0||cd!=null&&cd.$==2)){ce=A.ValueAndForever(b6);cf=A.ValueAndForever(b7);cg=A.ValueAndForever(b8);ce!=null&&ce.$==1?cf!=null&&cf.$==1?cg!=null&&cg.$==1?ce.$0[1]&&cf.$0[1]&&cg.$0[1]?A.MarkForever(ca,b5(ce.$0[0],cf.$0[0],cg.$0[0])):A.MarkReady(ca,b5(ce.$0[0],cf.$0[0],cg.$0[0])):void 0:void 0:void 0;}}b9=b6.s;b_=b7.s;b$=b8.s;return b9!=null&&b9.$==0?b_!=null&&b_.$==0?b$!=null&&b$.$==0?A.New({$:0,$0:b5(b9.$0,b_.$0,b$.$0)}):A.Map3Opt1(b5,b9.$0,b_.$0,b8):b$!=null&&b$.$==0?A.Map3Opt2(b5,b9.$0,b$.$0,b7):A.Map3Opt3(b5,b9.$0,b7,b8):b_!=null&&b_.$==0?b$!=null&&b$.$==0?A.Map3Opt4(b5,b_.$0,b$.$0,b6):A.Map3Opt5(b5,b_.$0,b6,b8):b$!=null&&b$.$==0?A.Map3Opt6(b5,b$.$0,b6,b7):(ca=A.New({$:3,$0:[],$1:[]}),(A.When(b6,cb,ca),A.When(b7,cb,ca),A.When(b8,cb,ca),ca));};A.Sequence=function(b5){var b6,b7,b8;function b9(b_){var b$;if(b8[0]===0){b$=m.map(function(ca){var cb;cb=ca.s;return cb!=null&&cb.$==0?cb.$0:cb!=null&&cb.$==2?cb.$0:h.FailWith("value not found by View.Sequence");},b6);m.forall(function(ca){var cb;cb=ca.s;return cb!=null&&cb.$==0;},b6)?A.MarkForever(b7,b$):A.MarkReady(b7,b$);}else b8[0]--;}b6=m.ofSeq(b5);return b6.length==0?A.New({$:0,$0:[]}):(b7=A.New({$:3,$0:[],$1:[]}),(b8=[m.length(b6)-1],(m.iter(function(b_){A.When(b_,b9,b7);},b6),b7)));};A.Map2=function(b5,b6,b7){var b8,b9,b_;function b$(ca){var cb,cc,cd;if(!(cb=b_.s,cb!=null&&cb.$==0||cb!=null&&cb.$==2)){cc=A.ValueAndForever(b6);cd=A.ValueAndForever(b7);cc!=null&&cc.$==1?cd!=null&&cd.$==1?cc.$0[1]&&cd.$0[1]?A.MarkForever(b_,b5(cc.$0[0],cd.$0[0])):A.MarkReady(b_,b5(cc.$0[0],cd.$0[0])):void 0:void 0;}}b8=b6.s;b9=b7.s;return b8!=null&&b8.$==0?b9!=null&&b9.$==0?A.New({$:0,$0:b5(b8.$0,b9.$0)}):A.Map2Opt1(b5,b8.$0,b7):b9!=null&&b9.$==0?A.Map2Opt2(b5,b9.$0,b6):(b_=A.New({$:3,$0:[],$1:[]}),(A.When(b6,b$,b_),A.When(b7,b$,b_),b_));};A.Map2Unit=function(b5,b6){var b7,b8,b9;function b_(){var b$,ca,cb;if(!(b$=b9.s,b$!=null&&b$.$==0||b$!=null&&b$.$==2)){ca=A.ValueAndForever(b5);cb=A.ValueAndForever(b6);ca!=null&&ca.$==1?cb!=null&&cb.$==1?ca.$0[1]&&cb.$0[1]?A.MarkForever(b9,null):A.MarkReady(b9,null):void 0:void 0;}}b7=b5.s;b8=b6.s;return b7!=null&&b7.$==0?b8!=null&&b8.$==0?A.New({$:0,$0:null}):b6:b8!=null&&b8.$==0?b5:(b9=A.New({$:3,$0:[],$1:[]}),(A.When(b5,b_,b9),A.When(b6,b_,b9),b9));};A.Copy=function(b5){var b6,b7,b8;b6=b5.s;return b6==null?b5:b6!=null&&b6.$==2?(b7=A.New({$:2,$0:b6.$0,$1:[]}),(A.WhenObsolete(b5,b7),b7)):b6!=null&&b6.$==3?(b8=A.New({$:3,$0:[],$1:[]}),(A.When(b5,function(b9){A.MarkDone(b8,b5,b9);},b8),b8)):b5;};A.Join=function(b5){var b6;b6=A.New({$:3,$0:[],$1:[]});A.When(b5,function(b7){var b8;b8=b7();A.When(b8,function(b9){var b_,b$;if((b_=b8.s,b_!=null&&b_.$==0)&&(b$=b5.s,b$!=null&&b$.$==0))A.MarkForever(b6,b9);else A.MarkReady(b6,b9);},b6);},b6);return b6;};A.Map3Opt1=function(b5,b6,b7,b8){return A.Map(function(b9){return b5(b6,b7,b9);},b8);};A.Map3Opt2=function(b5,b6,b7,b8){return A.Map(function(b9){return b5(b6,b9,b7);},b8);};A.Map3Opt3=function(b5,b6,b7,b8){return A.Map2(function(b9,b_){return b5(b6,b9,b_);},b7,b8);};A.Map3Opt4=function(b5,b6,b7,b8){return A.Map(function(b9){return b5(b9,b6,b7);},b8);};A.Map3Opt5=function(b5,b6,b7,b8){return A.Map2(function(b9,b_){return b5(b9,b6,b_);},b7,b8);};A.Map3Opt6=function(b5,b6,b7,b8){return A.Map2(function(b9,b_){return b5(b9,b_,b6);},b7,b8);};A.ValueAndForever=function(b5){var b6;b6=b5.s;return b6!=null&&b6.$==0?{$:1,$0:[b6.$0,true]}:b6!=null&&b6.$==2?{$:1,$0:[b6.$0,false]}:null;};A.Map2Opt1=function(b5,b6,b7){return A.Map(function(b8){return b5(b6,b8);},b7);};A.Map2Opt2=function(b5,b6,b7){return A.Map(function(b8){return b5(b8,b6);},b7);};A.WhenObsolete=function(b5,b6){var b7;b7=b5.s;b7==null?A.Obsolete(b6):b7!=null&&b7.$==2?A.EnqueueSafe(b7.$1,b6):b7!=null&&b7.$==3?A.EnqueueSafe(b7.$1,b6):void 0;};C.NewGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(new a.RegExp("[xy]","g"),function(b5){var b6,b7;b6=b4.random()*16|0;b7=b5=="x"?b6:b6&3|8;return b7.toString(16);});};E=D.List=b0.Class({GetEnumerator:function(){return _5.Get(this);},GetEnumerator0:function(){return _5.Get0(this);}},null,E);F.$cctor=function(){F.$cctor=a.ignore;F.count=g.Create$1(0);F.setCount=a.ignore;F.People=o.FromSeq(["John","Paul"]);F.count$1=P.count();};H.LoadLocalTemplates=function(b5){!H.LocalTemplatesLoaded()?(H.set_LocalTemplatesLoaded(true),H.LoadNestedTemplates(self.document.body,"")):void 0;H.LoadedTemplates().set_Item(b5,H.LoadedTemplateFile(""));};H.NamedTemplate=function(b5,b6,b7){var b8,b9;b8=(b9=null,[H.LoadedTemplateFile(b5).TryGetValue(b6==null?"":b6.$0,{get:function(){return b9;},set:function(b_){b9=b_;}}),b9]);return b8[0]?H.ChildrenTemplate(b8[1].cloneNode(true),b7):(b3.warn("Local template doesn't exist",b6),I.get_Empty());};H.LocalTemplatesLoaded=function(){_7.$cctor();return _7.LocalTemplatesLoaded;};H.set_LocalTemplatesLoaded=function(b5){_7.$cctor();_7.LocalTemplatesLoaded=b5;};H.LoadNestedTemplates=function(b5,b6){var b8,b9,b_,b$,ca,cb,cc,cd,ce,cf,cg,ch,ci;function b7(cj){var ck,cl;if(!b8.ContainsKey(cj)){ck=(cl=null,[b9.TryGetValue(cj,{get:function(){return cl;},set:function(cm){cl=cm;}}),cl]);ck[0]?(ci.Add(cj),b9.Remove(cj),H.PrepareTemplateStrict(b6,{$:1,$0:cj},ck[1],{$:1,$0:b7})):b3.warn(ci.Contains(cj)?"Encountered loop when instantiating "+cj:"Local template does not exist: "+cj);}}b8=H.LoadedTemplateFile(b6);b9=new S.New$5();b_=b5.querySelectorAll("[ws-template]");for(b$=0,ca=b_.length-1;b$<=ca;b$++){cb=b_[b$];cc=cb.getAttribute("ws-template").toLowerCase();cb.removeAttribute("ws-template");b9.set_Item(cc,H.FakeRootSingle(cb));}cd=b5.querySelectorAll("[ws-children-template]");for(ce=0,cf=cd.length-1;ce<=cf;ce++){cg=cd[ce];ch=cg.getAttribute("ws-children-template").toLowerCase();cg.removeAttribute("ws-children-template");b9.set_Item(ch,H.FakeRoot(cg));}ci=new W.New$3();while(b9.count>0)b7(X.head(b9.get_Keys()));};H.LoadedTemplates=function(){_7.$cctor();return _7.LoadedTemplates;};H.LoadedTemplateFile=function(b5){var b6,b7,b8;b6=(b7=null,[H.LoadedTemplates().TryGetValue(b5,{get:function(){return b7;},set:function(b9){b7=b9;}}),b7]);return b6[0]?b6[1]:(b8=new S.New$5(),(H.LoadedTemplates().set_Item(b5,b8),b8));};H.ChildrenTemplate=function(b5,b6){var b7,b8,b9,b_,b$;b7=H.InlineTemplate(b5,X.append(b6,H.GlobalHoles().get_Values()));b8=b7[1];b9=b7[0];b_=b9.Els;return!p.Equals(b_,null)&&b_.length===1&&(m.get(b_,0)instanceof _0&&(p.Equals(m.get(b_,0).nodeType,_0.ELEMENT_NODE)&&(b$=m.get(b_,0),true)))?bd.TreeNode(b9,b8):I.Mk({$:6,$0:b9},b8);};H.FakeRootSingle=function(b5){var b6,b7,b8,b9;b5.removeAttribute("ws-template");b6=b5.getAttribute("ws-replace");b6===null?void 0:(b5.removeAttribute("ws-replace"),b7=b5.parentNode,p.Equals(b7,null)?void 0:(b8=self.document.createElement(b5.tagName),b8.setAttribute("ws-replace",b6),b7.replaceChild(b8,b5)));b9=self.document.createElement("div");b9.appendChild(b5);return b9;};H.FakeRoot=function(b5){var b6;b6=self.document.createElement("div");while(b5.hasChildNodes())b6.appendChild(b5.firstChild);return b6;};H.PrepareTemplateStrict=function(b5,b6,b7,b8){var b9;function b_(cd,ce){var cf,cg,ch,ci,cj,cl,cm,cn,co,cp,cq,cr,cs,ct,cu,cv,cw,cx,cy,cz,cA,cB,cC,cD,cE,cF;function ck(cG){}while(true)switch(cd){case 0:if(ce!==null){cf=ce.nextSibling;if(p.Equals(ce.nodeType,_0.TEXT_NODE))be.convertTextNode(ce);else if(p.Equals(ce.nodeType,_0.ELEMENT_NODE))ca(ce);ce=cf;}else return null;break;case 1:cl=bf.string(ce.nodeName,{$:1,$0:3},null).toLowerCase();cm=(cg=cl.indexOf("."),cg===-1?[b5,cl]:[bf.string(cl,null,{$:1,$0:cg-1}),bf.string(cl,{$:1,$0:cg+1},null)]);cn=cm[1];co=cm[0];if(co!==""&&!H.LoadedTemplates().ContainsKey(co))return be.failNotLoaded(cn);else{if(co===""&&b8!=null)b8.$0(cn);cp=H.LoadedTemplates().get_Item(co);if(!cp.ContainsKey(cn))return be.failNotLoaded(cn);else{cq=cp.get_Item(cn);cr=cq.cloneNode(true);cs=new W.New$3();ct=new S.New$5();cu=ce.attributes;for(cv=0,cw=cu.length-1;cv<=cw;cv++){cx=cu.item(cv).name.toLowerCase();ct.set_Item(cx,(cy=cu.item(cv).nodeValue,cy===""?cx:cy.toLowerCase()));!cs.Add(cx)?b3.warn("Hole mapped twice",cx):void 0;}for(cz=0,cA=ce.childNodes.length-1;cz<=cA;cz++){cB=ce.childNodes[cz];p.Equals(cB.nodeType,_0.ELEMENT_NODE)?!cs.Add(cB.nodeName.toLowerCase())?b3.warn("Hole filled twice",cn):void 0:void 0;}cC=ce.childNodes.length===1&&p.Equals(ce.firstChild.nodeType,_0.TEXT_NODE);if(cC){ci=be.fillTextHole(cr,ce.firstChild.textContent,cn);((function(cG){return function(cH){if(cH!=null)cG(cH.$0);};}((cj=function(cG){return function(cH){return cG.Add(cH);};}(cs),function(cG){return ck(cj(cG));})))(ci));}be.removeHolesExcept(cr,cs);if(!cC){for(cD=0,cE=ce.childNodes.length-1;cD<=cE;cD++){cF=ce.childNodes[cD];p.Equals(cF.nodeType,_0.ELEMENT_NODE)?cF.hasAttributes()?be.fillInstanceAttrs(cr,cF):b$(cr,cF):void 0;}}be.mapHoles(cr,ct);be.fill(cr,ce.parentNode,ce);ce.parentNode.removeChild(ce);return;}}break;}}function b$(cd,ce){var cf,ch,ci;function cg(cj,ck){var cl;if(ch==="title"&&ce.hasChildNodes()){cl=_3.ParseHTMLIntoFakeRoot(ce.textContent);ce.removeChild(ce.firstChild);while(cl.hasChildNodes())ce.appendChild(cl.firstChild);}else null;ca(ce);return be.fill(ce,cj,ck);}ch=ce.nodeName.toLowerCase();H.foreachNotPreserved(cd,"[ws-attr-holes]",function(cj){var ck,cl,cm,cn,co;ck=br.SplitChars(cj.getAttribute("ws-attr-holes"),[" "],1);for(cl=0,cm=ck.length-1;cl<=cm;cl++){cn=m.get(ck,cl);cj.setAttribute(cn,(co=new a.RegExp("\\${"+ch+"}","ig"),cj.getAttribute(cn).replace(co,ce.textContent)));}});ci=cd.querySelector("[ws-hole="+ch+"]");if(p.Equals(ci,null)){cf=cd.querySelector("[ws-replace="+ch+"]");return p.Equals(cf,null)?null:(cg(cf.parentNode,cf),void cf.parentNode.removeChild(cf));}else{while(ci.hasChildNodes())ci.removeChild(ci.lastChild);ci.removeAttribute("ws-hole");return cg(ci,null);}}function ca(cd){if(!cd.hasAttribute("ws-preserve"))if(br.StartsWith(cd.nodeName.toLowerCase(),"ws-"))cc(cd);else{be.convertAttrs(cd);cb(cd.firstChild);}}function cb(cd){return b_(0,cd);}function cc(cd){return b_(1,cd);}b9=(b6==null?"":b6.$0).toLowerCase();H.LoadedTemplateFile(b5).set_Item(b9,b7);b7.hasChildNodes()?(function(cd){var ce,cf,cg,ch;while(true){ce=cd.querySelector("[ws-template]");if(p.Equals(ce,null)){cf=cd.querySelector("[ws-children-template]");if(p.Equals(cf,null))return null;else{cg=cf.getAttribute("ws-children-template");cf.removeAttribute("ws-children-template");H.PrepareTemplateStrict(b5,{$:1,$0:cg},cf,null);cd=cd;}}else{ch=ce.getAttribute("ws-template");(H.PrepareSingleTemplate(b5,{$:1,$0:ch},ce))(null);cd=cd;}}}(b7),cb(b7.firstChild)):void 0;};H.InlineTemplate=function(b5,b6){var b7,b8,b9,b_,cb,cc,cd,ce,cf,cg,ch;function b$(ci,cj){var ck,cl,cm;ck=_2.Insert(ci,cj);cc.push(_2.Updates(ck));cd.push([ci,ck]);cl=b0.GetOptional(ck.OnAfterRender);return cl==null?null:(cm=cl.$0,void ce.push(function(){cm(ci);}));}function ca(ci){var cj,ck;cj=(ck=null,[cf.TryGetValue(ci,{get:function(){return ck;},set:function(cl){ck=cl;}}),ck]);return cj[0]?cj[1].$==0?{$:1,$0:cj[1].$1}:cj[1].$==1?{$:1,$0:I.TextNode(cj[1].$1)}:cj[1].$==2?{$:1,$0:I.TextView(cj[1].$1)}:cj[1].$==8?{$:1,$0:I.TextView(cj[1].$1.get_View())}:cj[1].$==9?{$:1,$0:I.TextView(y.Map(a.String,cj[1].$1.get_View()))}:cj[1].$==10?{$:1,$0:I.TextView(y.Map(function(cl){return cl.get_Input();},cj[1].$1.get_View()))}:cj[1].$==11?{$:1,$0:I.TextView(y.Map(a.String,cj[1].$1.get_View()))}:cj[1].$==12?{$:1,$0:I.TextView(y.Map(function(cl){return cl.get_Input();},cj[1].$1.get_View()))}:cj[1].$==13?{$:1,$0:I.TextView(y.Map(a.String,cj[1].$1.get_View()))}:(b3.warn("Content hole filled with attribute data",ci),null):null;}cb=[];cc=[];cd=[];ce=[];cf=new S.New$5();cg=_5.Get(b6);try{while(cg.MoveNext()){ch=cg.Current();cf.set_Item(ch.$0,ch);}}finally{if(typeof cg=="object"&&"Dispose"in cg)cg.Dispose();}b7=_3.ChildrenArray(b5);H.foreachNotPreserved(b5,"[ws-hole]",function(ci){var cj,ck,cl;cl=ci.getAttribute("ws-hole");ci.removeAttribute("ws-hole");while(ci.hasChildNodes())ci.removeChild(ci.lastChild);cj=ca(cl);cj!=null&&cj.$==1?(ck=cj.$0,_9.LinkElement(ci,ck.docNode),cb.push(ba.New(_2.Empty(ci),ck.docNode,null,ci,R.Int(),null)),cc.push(ck.updates)):void 0;});H.foreachNotPreserved(b5,"[ws-replace]",function(ci){var cj,ck,cl,cm,cn,co;cj=ca(ci.getAttribute("ws-replace"));cj!=null&&cj.$==1?(ck=cj.$0,cl=ci.parentNode,cm=self.document.createTextNode(""),cl.replaceChild(cm,ci),cn=_9.InsertBeforeDelim(cm,ck.docNode),co=m.tryFindIndex(function(cp){return ci===cp;},b7),co==null?void 0:m.set(b7,co.$0,ck.docNode),cb.push(ba.New(_2.Empty(cl),ck.docNode,{$:1,$0:[cn,cm]},cl,R.Int(),null)),cc.push(ck.updates)):void 0;});H.foreachNotPreserved(b5,"[ws-attr]",function(ci){var cj,ck,cl;cj=ci.getAttribute("ws-attr");ci.removeAttribute("ws-attr");ck=(cl=null,[cf.TryGetValue(cj,{get:function(){return cl;},set:function(cm){cl=cm;}}),cl]);ck[0]?ck[1].$==3?b$(ci,ck[1].$1):b3.warn("Attribute hole filled with non-attribute data",cj):void 0;});H.foreachNotPreserved(b5,"[ws-on]",function(ci){b$(ci,L.Concat(m.choose(function(cj){var ck,cl,cm;ck=br.SplitChars(cj,[":"],1);cl=(cm=null,[cf.TryGetValue(m.get(ck,1),{get:function(){return cm;},set:function(cn){cm=cn;}}),cm]);return cl[0]?cl[1].$==4?{$:1,$0:bo.Handler(m.get(ck,0),cl[1].$1)}:cl[1].$==5?{$:1,$0:L.Handler(m.get(ck,0),cl[1].$1)}:(b3.warn("Event hole on"+m.get(ck,0)+" filled with non-event data",m.get(ck,1)),null):null;},br.SplitChars(ci.getAttribute("ws-on"),[" "],1))));ci.removeAttribute("ws-on");});H.foreachNotPreserved(b5,"[ws-onafterrender]",function(ci){var cj,ck,cl;cj=ci.getAttribute("ws-onafterrender");ck=(cl=null,[cf.TryGetValue(cj,{get:function(){return cl;},set:function(cm){cl=cm;}}),cl]);ck[0]?ck[1].$==6?(ci.removeAttribute("ws-onafterrender"),b$(ci,bo.OnAfterRender(ck[1].$1))):ck[1].$==7?(ci.removeAttribute("ws-onafterrender"),b$(ci,bo.OnAfterRender(ck[1].$1))):b3.warn("onafterrender hole filled with non-onafterrender data",cj):void 0;});H.foreachNotPreserved(b5,"[ws-var]",function(ci){var cj,ck,cl;cj=ci.getAttribute("ws-var");ci.removeAttribute("ws-var");ck=(cl=null,[cf.TryGetValue(cj,{get:function(){return cl;},set:function(cm){cl=cm;}}),cl]);ck[0]?ck[1].$==8?b$(ci,bo.Value(ck[1].$1)):ck[1].$==9?b$(ci,bo.Checked(ck[1].$1)):ck[1].$==10?b$(ci,bo.IntValue(ck[1].$1)):ck[1].$==11?b$(ci,bo.IntValueUnchecked(ck[1].$1)):ck[1].$==12?b$(ci,bo.FloatValue(ck[1].$1)):ck[1].$==13?b$(ci,bo.FloatValueUnchecked(ck[1].$1)):b3.warn("Var hole filled with non-Var data",cj):void 0;});H.foreachNotPreserved(b5,"[ws-attr-holes]",function(ci){var cj,ck,cl,cm;cj=new a.RegExp(H.TextHoleRE(),"g");ck=br.SplitChars(ci.getAttribute("ws-attr-holes"),[" "],1);ci.removeAttribute("ws-attr-holes");for(cl=0,cm=ck.length-1;cl<=cm;cl++)(function(){var cn,co,cp,cq,cr,cs,ct,cu,cv,cw,cx,cy,cz;cw=m.get(ck,cl);cx=ci.getAttribute(cw);cn=null;co=0;cy=[];while(cn=cj.exec(cx),cn!==null){cz=bf.string(cx,{$:1,$0:co},{$:1,$0:cj.lastIndex-m.get(cn,0).length-1});co=cj.lastIndex;cy.push([cz,m.get(cn,1)]);}cq=bf.string(cx,{$:1,$0:co},null);cj.lastIndex=0;cr=m.foldBack(function(cA,cB){return(function(cC){var cD,cE;cD=cC[0];cE=cC[1];return function(cF){var cG,cH,cI,cJ,cK;cG=cF[0];cH=cF[1];cI=(cJ=(cK=null,[cf.TryGetValue(cE,{get:function(){return cK;},set:function(cL){cK=cL;}}),cK]),cJ[0]?cJ[1].$==1?{$:0,$0:cJ[1].$1}:cJ[1].$==2?{$:1,$0:cJ[1].$1}:cJ[1].$==8?{$:1,$0:cJ[1].$1.get_View()}:cJ[1].$==9?{$:1,$0:y.Map(a.String,cJ[1].$1.get_View())}:cJ[1].$==10?{$:1,$0:y.Map(function(cL){return cL.get_Input();},cJ[1].$1.get_View())}:cJ[1].$==11?{$:1,$0:y.Map(a.String,cJ[1].$1.get_View())}:cJ[1].$==12?{$:1,$0:y.Map(function(cL){return cL.get_Input();},cJ[1].$1.get_View())}:cJ[1].$==13?{$:1,$0:y.Map(a.String,cJ[1].$1.get_View())}:(b3.warn("Attribute value hole filled with non-text data",cE),{$:0,$0:""}):{$:0,$0:""});return cI.$==1?[cD,new bq({$:1,$0:cG===""?cI.$0:y.Map(function(cL){return cL+cG;},cI.$0),$1:cH})]:[cD+cI.$0+cG,cH];};}(cA))(cB);},cy,[cq,bq.Empty]);return b$(ci,cr[1].$==1?cr[1].$1.$==1?cr[1].$1.$1.$==1?cr[1].$1.$1.$1.$==0?(cs=cr[0],bo.Dynamic(cw,y.Map3(function(cA,cB,cC){return cs+cA+cB+cC;},cr[1].$0,cr[1].$1.$0,cr[1].$1.$1.$0))):(ct=cr[0],bo.Dynamic(cw,y.Map(function(cA){return ct+br.concat("",cA);},y.Sequence(cr[1])))):(cu=cr[0],bo.Dynamic(cw,y.Map2(function(cA,cB){return cu+cA+cB;},cr[1].$0,cr[1].$1.$0))):cr[0]===""?bo.Dynamic(cw,cr[1].$0):(cv=cr[0],bo.Dynamic(cw,y.Map(function(cA){return cv+cA;},cr[1].$0))):L.Create(cw,cr[0]));}());});return[b0.DeleteEmptyFields({Els:b7,Dirty:true,Holes:cb,Attrs:cd,Render:(b8=ce.length==0?null:{$:1,$0:function(ci){m.iter(function(cj){cj(ci);},ce);}},b8?b8.$0:void 0),El:(b9=!p.Equals(b7,null)&&b7.length===1&&(m.get(b7,0)instanceof _0&&(m.get(b7,0)instanceof a.Element&&(b_=m.get(b7,0),true)))?{$:1,$0:b_}:null,b9?b9.$0:void 0)},["Render","El"]),bk.TreeReduce(y.Const(),y.Map2Unit,cc)];};H.GlobalHoles=function(){_7.$cctor();return _7.GlobalHoles;};H.foreachNotPreserved=function(b5,b6,b7){_3.IterSelector(b5,b6,function(b8){if(b8.closest("[ws-preserve]")==null)b7(b8);});};H.PrepareSingleTemplate=function(b5,b6,b7){var b8;b8=H.FakeRootSingle(b7);return function(b9){H.PrepareTemplateStrict(b5,b6,b8,b9);};};H.TextHoleRE=function(){_7.$cctor();return _7.TextHoleRE;};I=f.Doc=b0.Class({},e,I);I.RunById=function(b5,b6){var b7;b7=self.document.getElementById(b5);p.Equals(b7,null)?h.FailWith("invalid id: "+b5):I.Run(b7,b6);};I.TextNode=function(b5){return I.Mk({$:5,$0:self.document.createTextNode(b5)},y.Const());};I.Convert=function(b5,b6){return I.Flatten(y.MapSeqCached(b5,b6));};I.Run=function(b5,b6){_9.LinkElement(b5,b6.docNode);I.RunInPlace(false,b5,b6);};I.Element=function(b5,b6,b7){var b8,b9;b8=L.Concat(b6);b9=I.Concat(b7);return bd.New(self.document.createElement(b5),b8,b9);};I.Mk=function(b5,b6){return new I.New(b5,b6);};I.TextView=function(b5){var b6;b6=_9.CreateTextNode();return I.Mk({$:4,$0:b6},y.Map(function(b7){_9.UpdateTextNode(b6,b7);},b5));};I.Flatten=function(b5){return I.EmbedView(y.Map(I.Concat,b5));};I.get_Empty=function(){return I.Mk(null,y.Const());};I.RunInPlace=function(b5,b6,b7){var b8;b8=_9.CreateRunState(b6,b7.docNode);y.Sink(bh.get_UseAnimations()||bi.BatchUpdatesEnabled()?bj.StartProcessor(_9.PerformAnimatedUpdate(b5,b8,b7.docNode)):function(){_9.PerformSyncUpdate(b5,b8,b7.docNode);},b7.updates);};I.Concat=function(b5){var b6;b6=bk.ofSeqNonCopying(b5);return bk.TreeReduce(I.get_Empty(),I.Append,b6);};I.EmbedView=function(b5){var b6;b6=_9.CreateEmbedNode();return I.Mk({$:2,$0:b6},y.Map(a.ignore,y.Bind(function(b7){_9.UpdateEmbedNode(b6,b7.docNode);return b7.updates;},b5)));};I.Append=function(b5,b6){return I.Mk({$:0,$0:b5.docNode,$1:b6.docNode},y.Map2Unit(b5.updates,b6.updates));};I.New=b0.Ctor(function(b5,b6){e.New.call(this);this.docNode=b5;this.updates=b6;},I);K.NewFromSeq=function(b5){var b6,b7,b8;b6={};b7=_5.Get(b5);try{while(b7.MoveNext()){b8=b7.Current();b6[b8[0]]=b8[1];}}finally{if(typeof b7=="object"&&"Dispose"in b7)b7.Dispose();}return b6;};L=f.AttrProxy=b0.Class({},null,L);L.HandlerImpl=function(b5,b6){return _2.Static(function(b7){b7.addEventListener(b5,function(b8){return(b6(b7))(b8);},false);});};L.OnAfterRenderImpl=function(b5){return new L({$:4,$0:b5});};L.Concat=function(b5){var b6;b6=bk.ofSeqNonCopying(b5);return bk.TreeReduce(_2.EmptyAttr(),L.Append,b6);};L.Append=function(b5,b6){return _2.AppendTree(b5,b6);};L.Handler=function(b5,b6){return L.HandlerImpl(b5,b6);};L.Create=function(b5,b6){return _2.Static(function(b7){b7.setAttribute(b5,b6);});};M.textf=function(b5){return b5(a.id);};N.toSafe=function(b5){return b5==null?"":b5;};P.count=function(){F.$cctor();return F.count;};R.Int=function(){R.set_counter(R.counter()+1);return R.counter();};R.set_counter=function(b5){$.$cctor();$.counter=b5;};R.counter=function(){$.$cctor();return $.counter;};S=D.Dictionary=b0.Class({set_Item:function(b5,b6){this.set(b5,b6);},set:function(b5,b6){var b7,b8,b9,b_;b7=this;b8=this.hash(b5);b9=this.data[b8];b9==null?(this.count=this.count+1,this.data[b8]=new a.Array({K:b5,V:b6})):(b_=m.tryFindIndex(function(b$){return b7.equals.apply(null,[(h.KeyValue(b$))[0],b5]);},b9),b_==null?(this.count=this.count+1,b9.push({K:b5,V:b6})):b9[b_.$0]={K:b5,V:b6});},TryGetValue:function(b5,b6){var b7,b8,b9;b7=this;b8=this.data[this.hash(b5)];return b8==null?false:(b9=m.tryPick(function(b_){var b$;b$=h.KeyValue(b_);return b7.equals.apply(null,[b$[0],b5])?{$:1,$0:b$[1]}:null;},b8),b9!=null&&b9.$==1&&(b6.set(b9.$0),true));},Remove:function(b5){return this.remove(b5);},ContainsKey:function(b5){var b6,b7;b6=this;b7=this.data[this.hash(b5)];return b7==null?false:m.exists(function(b8){return b6.equals.apply(null,[(h.KeyValue(b8))[0],b5]);},b7);},get_Keys:function(){return new bg.New(this);},get_Values:function(){return new bt.New(this);},remove:function(b5){var b6,b7,b8,b9;b6=this;b7=this.hash(b5);b8=this.data[b7];return b8==null?false:(b9=m.filter(function(b_){return!b6.equals.apply(null,[(h.KeyValue(b_))[0],b5]);},b8),m.length(b9)<b8.length&&(this.count=this.count-1,this.data[b7]=b9,true));},get_Item:function(b5){return this.get(b5);},get:function(b5){var b6,b7;b6=this;b7=this.data[this.hash(b5)];return b7==null?_4.notPresent():m.pick(function(b8){var b9;b9=h.KeyValue(b8);return b6.equals.apply(null,[b9[0],b5])?{$:1,$0:b9[1]}:null;},b7);},GetEnumerator:function(){return _5.Get0(this);},GetEnumerator0:function(){return _5.Get0(m.concat(_1.GetFieldValues(this.data)));}},e,S);S.New$5=b0.Ctor(function(){S.New$6.call(this,[],p.Equals,p.Hash);},S);S.New$6=b0.Ctor(function(b5,b6,b7){var b8,b9;e.New.call(this);this.equals=b6;this.hash=b7;this.count=0;this.data=[];b8=_5.Get(b5);try{while(b8.MoveNext()){b9=b8.Current();this.set(b9.K,b9.V);}}finally{if(typeof b8=="object"&&"Dispose"in b8)b8.Dispose();}},S);y=f.View=b0.Class({},null,y);A.Obsolete=function(b5){var b6,b7,b8,b9,b_;b7=b5.s;if(b7==null||(b7!=null&&b7.$==2?(b6=b7.$1,false):b7!=null&&b7.$==3?(b6=b7.$1,false):true))void 0;else{b5.s=null;for(b8=0,b9=m.length(b6)-1;b8<=b9;b8++){b_=m.get(b6,b8);typeof b_=="object"?function(b$){A.Obsolete(b$);}(b_):b_();}}};A.New=function(b5){return{s:b5};};o.FromSeq=function(b5){return o.Create(a.id,b5);};o.Create=function(b5,b6){return o.CreateWithStorage(b5,bc.InMemory(m.ofSeq(b6)));};o.CreateWithStorage=function(b5,b6){return new o.New(b5,b6);};U=f.CheckedInput=b0.Class({get_Input:function(){return this.$==1?this.$0:this.$==2?this.$0:this.$1;}},null,U);V.TryParseInt32=function(b5,b6){return V.TryParse(b5,-2147483648,2147483647,b6);};W=D.HashSet=b0.Class({Add:function(b5){return this.add(b5);},Contains:function(b5){var b6;b6=this.data[this.hash(b5)];return b6==null?false:this.arrContains(b5,b6);},add:function(b5){var b6,b7;b6=this.hash(b5);b7=this.data[b6];return b7==null?(this.data[b6]=[b5],this.count=this.count+1,true):this.arrContains(b5,b7)?false:(b7.push(b5),this.count=this.count+1,true);},arrContains:function(b5,b6){var b7,b8,b9,b_;b7=true;b8=0;b_=b6.length;while(b7&&b8<b_)if(this.equals.apply(null,[b6[b8],b5]))b7=false;else b8=b8+1;return!b7;},ExceptWith:function(b5){var b6;b6=_5.Get(b5);try{while(b6.MoveNext())this.Remove(b6.Current());}finally{if(typeof b6=="object"&&"Dispose"in b6)b6.Dispose();}},get_Count:function(){return this.count;},CopyTo:function(b5){var b6,b7,b8,b9;b6=0;b7=bB.concat(this.data);for(b8=0,b9=b7.length-1;b8<=b9;b8++)m.set(b5,b8,b7[b8]);},IntersectWith:function(b5){var b6,b7,b8,b9,b_;b6=new W.New$4(b5,this.equals,this.hash);b7=bB.concat(this.data);for(b8=0,b9=b7.length-1;b8<=b9;b8++){b_=b7[b8];!b6.Contains(b_)?this.Remove(b_):void 0;}},Remove:function(b5){var b6;b6=this.data[this.hash(b5)];return b6==null?false:this.arrRemove(b5,b6)&&(this.count=this.count-1,true);},arrRemove:function(b5,b6){var b7,b8,b9,b_;b7=true;b8=0;b_=b6.length;while(b7&&b8<b_)if(this.equals.apply(null,[b6[b8],b5])){b6.splice.apply(b6,[b8,1]);b7=false;}else b8=b8+1;return!b7;},GetEnumerator:function(){return _5.Get(bB.concat(this.data));},GetEnumerator0:function(){return _5.Get(bB.concat(this.data));}},e,W);W.New$3=b0.Ctor(function(){W.New$4.call(this,[],p.Equals,p.Hash);},W);W.New$4=b0.Ctor(function(b5,b6,b7){var b8;e.New.call(this);this.equals=b6;this.hash=b7;this.data=[];this.count=0;b8=_5.Get(b5);try{while(b8.MoveNext())this.add(b8.Current());}finally{if(typeof b8=="object"&&"Dispose"in b8)b8.Dispose();}},W);W.New$2=b0.Ctor(function(b5){W.New$4.call(this,b5,p.Equals,p.Hash);},W);X.append=function(b5,b6){return{GetEnumerator:function(){var b7,b8;b7=_5.Get(b5);b8=[true];return new _6.New(b7,null,function(b9){var b_;return b9.s.MoveNext()?(b9.c=b9.s.Current(),true):(b_=b9.s,!p.Equals(b_,null)?b_.Dispose():void 0,b9.s=null,b8[0]&&(b8[0]=false,b9.s=_5.Get(b6),b9.s.MoveNext()?(b9.c=b9.s.Current(),true):(b9.s.Dispose(),b9.s=null,false)));},function(b9){var b_;b_=b9.s;!p.Equals(b_,null)?b_.Dispose():void 0;});}};};X.head=function(b5){var b6;b6=_5.Get(b5);try{return b6.MoveNext()?b6.Current():X.insufficient();}finally{if(typeof b6=="object"&&"Dispose"in b6)b6.Dispose();}};X.fold=function(b5,b6,b7){var b8,b9;b8=b6;b9=_5.Get(b7);try{while(b9.MoveNext())b8=b5(b8,b9.Current());return b8;}finally{if(typeof b9=="object"&&"Dispose"in b9)b9.Dispose();}};X.distinctBy=function(b5,b6){return{GetEnumerator:function(){var b7,b8;b7=_5.Get(b6);b8=new W.New$3();return new _6.New(null,null,function(b9){var b_,b$;if(b7.MoveNext()){b_=b7.Current();b$=b8.Add(b5(b_));while(!b$&&b7.MoveNext()){b_=b7.Current();b$=b8.Add(b5(b_));}return b$&&(b9.c=b_,true);}else return false;},function(){b7.Dispose();});}};};X.iter=function(b5,b6){var b7;b7=_5.Get(b6);try{while(b7.MoveNext())b5(b7.Current());}finally{if(typeof b7=="object"&&"Dispose"in b7)b7.Dispose();}};X.map=function(b5,b6){return{GetEnumerator:function(){var b7;b7=_5.Get(b6);return new _6.New(null,null,function(b8){return b7.MoveNext()&&(b8.c=b5(b7.Current()),true);},function(){b7.Dispose();});}};};X.max=function(b5){var b6,b7,b8;b6=_5.Get(b5);try{if(!b6.MoveNext())X.seqEmpty();b7=b6.Current();while(b6.MoveNext()){b8=b6.Current();p.Compare(b8,b7)===1?b7=b8:void 0;}return b7;}finally{if(typeof b6=="object"&&"Dispose"in b6)b6.Dispose();}};X.seqEmpty=function(){return h.FailWith("The input sequence was empty.");};X.forall=function(b5,b6){return!X.exists(function(b7){return!b5(b7);},b6);};X.exists=function(b5,b6){var b7,b8;b7=_5.Get(b6);try{b8=false;while(!b8&&b7.MoveNext())b8=b5(b7.Current());return b8;}finally{if(typeof b7=="object"&&"Dispose"in b7)b7.Dispose();}};m.choose=function(b5,b6){var b7,b8,b9,b_;b7=[];for(b8=0,b9=b6.length-1;b8<=b9;b8++){b_=b5(b6[b8]);b_==null?void 0:b7.push(b_.$0);}return b7;};m.tryFindIndex=function(b5,b6){var b7,b8;b7=null;b8=0;while(b8<b6.length&&b7==null){b5(b6[b8])?b7={$:1,$0:b8}:void 0;b8=b8+1;}return b7;};m.tryPick=function(b5,b6){var b7,b8,b9;b7=null;b8=0;while(b8<b6.length&&b7==null){b9=b5(b6[b8]);b9!=null&&b9.$==1?b7=b9:void 0;b8=b8+1;}return b7;};m.exists=function(b5,b6){var b7,b8,b9,b_;b7=false;b8=0;b_=m.length(b6);while(!b7&&b8<b_)if(b5(b6[b8]))b7=true;else b8=b8+1;return b7;};m.ofSeq=function(b5){var b6,b7;if(b5 instanceof a.Array)return b5.slice();else if(b5 instanceof bq)return m.ofList(b5);else{b6=[];b7=_5.Get(b5);try{while(b7.MoveNext())b6.push(b7.Current());return b6;}finally{if(typeof b7=="object"&&"Dispose"in b7)b7.Dispose();}}};m.concat=function(b5){return a.Array.prototype.concat.apply([],m.ofSeq(b5));};m.foldBack=function(b5,b6,b7){var b8,b9,b_,b$,ca;b8=b7;b_=b6.length;for(b$=1,ca=b_;b$<=ca;b$++)b8=b5(b6[b_-b$],b8);return b8;};m.iter=function(b5,b6){var b7,b8;for(b7=0,b8=b6.length-1;b7<=b8;b7++)b5(b6[b7]);};m.map=function(b5,b6){var b7,b8,b9;b7=new a.Array(b6.length);for(b8=0,b9=b6.length-1;b8<=b9;b8++)b7[b8]=b5(b6[b8]);return b7;};m.filter=function(b5,b6){var b7,b8,b9;b7=[];for(b8=0,b9=b6.length-1;b8<=b9;b8++)if(b5(b6[b8]))b7.push(b6[b8]);return b7;};m.ofList=function(b5){var b6,b7;b7=[];b6=b5;while(!(b6.$==0)){b7.push(bp.head(b6));b6=bp.tail(b6);}return b7;};m.pick=function(b5,b6){var b7;b7=m.tryPick(b5,b6);return b7==null?h.FailWith("KeyNotFoundException"):b7.$0;};m.forall=function(b5,b6){var b7,b8,b9,b_;b7=true;b8=0;b_=m.length(b6);while(b7&&b8<b_)if(b5(b6[b8]))b8=b8+1;else b7=false;return b7;};m.create=function(b5,b6){var b7,b8,b9;b7=new a.Array(b5);for(b8=0,b9=b5-1;b8<=b9;b8++)b7[b8]=b6;return b7;};m.init=function(b5,b6){var b7,b8,b9;b5<0?h.FailWith("Negative size given."):null;b7=new a.Array(b5);for(b8=0,b9=b5-1;b8<=b9;b8++)b7[b8]=b6(b8);return b7;};Y.$cctor=function(){Y.$cctor=a.ignore;Y.initialized=new S.New$5();};Y=k.TemplateInitializer=b0.Class({},e,Y);Y.GetOrAddHoleFor=function(b5,b6,b7){var b8,b9,b_,b$;Y.$cctor();b8=Y.GetHolesFor(b5);b9=(b_=null,[b8.TryGetValue(b6,{get:function(){return b_;},set:function(ca){b_=ca;}}),b_]);return b9[0]?b9[1]:(b$=b7(),(b8.set_Item(b6,b$),b$));};Y.GetHolesFor=function(b5){var b6,b7,b8;Y.$cctor();b6=(b7=null,[Y.initialized.TryGetValue(b5,{get:function(){return b7;},set:function(b9){b7=b9;}}),b7]);return b6[0]?b6[1]:(b8=new S.New$5(),(Y.initialized.set_Item(b5,b8),b8));};_1.GetFieldValues=function(b5){var b6,b7;b6=[];for(var b8 in b5)b6.push(b5[b8]);return b6;};_2.Static=function(b5){return new L({$:3,$0:b5});};_2.Insert=function(b5,b6){var b7,b8,b9;function b_(b$){if(!(b$===null))if(b$!=null&&b$.$==1)b7.push(b$.$0);else if(b$!=null&&b$.$==2){b_(b$.$0);b_(b$.$1);}else if(b$!=null&&b$.$==3)b$.$0(b5);else if(b$!=null&&b$.$==4)b8.push(b$.$0);}b7=[];b8=[];b_(b6);b9=b7.slice(0);return bm.New(b5,_2.Flags(b6),b9,b8.length===0?null:{$:1,$0:function(b$){X.iter(function(ca){ca(b$);},b8);}});};_2.Updates=function(b5){return bk.MapTreeReduce(function(b6){return b6.NChanged();},y.Const(),y.Map2Unit,b5.DynNodes);};_2.Empty=function(b5){return bm.New(b5,0,[],null);};_2.AppendTree=function(b5,b6){var b7;return b5===null?b6:b6===null?b5:(b7=new L({$:2,$0:b5,$1:b6}),(_2.SetFlags(b7,_2.Flags(b5)|_2.Flags(b6)),b7));};_2.EmptyAttr=function(){bG.$cctor();return bG.EmptyAttr;};_2.Flags=function(b5){return b5!==null&&b5.hasOwnProperty("flags")?b5.flags:0;};_2.Dynamic=function(b5,b6){return new L({$:1,$0:new bH.New(b5,b6)});};_2.HasExitAnim=function(b5){var b6;b6=2;return(b5.DynFlags&b6)===b6;};_2.GetExitAnim=function(b5){return _2.GetAnim(b5,function(b6,b7){return b6.NGetExitAnim(b7);});};_2.HasEnterAnim=function(b5){var b6;b6=1;return(b5.DynFlags&b6)===b6;};_2.GetEnterAnim=function(b5){return _2.GetAnim(b5,function(b6,b7){return b6.NGetEnterAnim(b7);});};_2.HasChangeAnim=function(b5){var b6;b6=4;return(b5.DynFlags&b6)===b6;};_2.GetChangeAnim=function(b5){return _2.GetAnim(b5,function(b6,b7){return b6.NGetChangeAnim(b7);});};_2.SetFlags=function(b5,b6){b5.flags=b6;};_2.GetAnim=function(b5,b6){return bh.Concat(m.map(function(b7){return b6(b7,b5.DynElem);},b5.DynNodes));};_2.Sync=function(b5,b6){m.iter(function(b7){b7.NSync(b5);},b6.DynNodes);};_3.ParseHTMLIntoFakeRoot=function(b5){var b6,b7,b8,b9,b_;b6=self.document.createElement("div");return!_3.rhtml().test(b5)?(b6.appendChild(self.document.createTextNode(b5)),b6):(b7=(b8=_3.rtagName().exec(b5),p.Equals(b8,null)?"":m.get(b8,1).toLowerCase()),(b9=(b_=(_3.wrapMap())[b7],b_?b_:_3.defaultWrap()),(b6.innerHTML=b9[1]+b5.replace(_3.rxhtmlTag(),"<$1></$2>")+b9[2],function(b$,ca){var cb;while(true)if(ca===0)return b$;else{cb=ca;b$=b$.lastChild;ca=cb-1;}}(b6,b9[0]))));};_3.ChildrenArray=function(b5){var b6,b7,b8;b6=[];for(b7=0,b8=b5.childNodes.length-1;b7<=b8;b7++)b6.push(b5.childNodes[b7]);return b6;};_3.rhtml=function(){bD.$cctor();return bD.rhtml;};_3.wrapMap=function(){bD.$cctor();return bD.wrapMap;};_3.defaultWrap=function(){bD.$cctor();return bD.defaultWrap;};_3.rxhtmlTag=function(){bD.$cctor();return bD.rxhtmlTag;};_3.rtagName=function(){bD.$cctor();return bD.rtagName;};_3.IterSelector=function(b5,b6,b7){var b8,b9,b_;b8=b5.querySelectorAll(b6);for(b9=0,b_=b8.length-1;b9<=b_;b9++)b7(b8[b9]);};_3.InsertAt=function(b5,b6,b7){var b8;if(!(b7.parentNode===b5&&b6===(b8=b7.nextSibling,p.Equals(b8,null)?null:b8)))b5.insertBefore(b7,b6);};_3.RemoveNode=function(b5,b6){if(b6.parentNode===b5)b5.removeChild(b6);};_4.notPresent=function(){return h.FailWith("The given key was not present in the dictionary.");};_5.Get=function(b5){return b5 instanceof a.Array?_5.ArrayEnumerator(b5):p.Equals(typeof b5,"string")?_5.StringEnumerator(b5):b5.GetEnumerator();};_5.ArrayEnumerator=function(b5){return new _6.New(0,null,function(b6){var b7;b7=b6.s;return b7<m.length(b5)&&(b6.c=m.get(b5,b7),b6.s=b7+1,true);},void 0);};_5.StringEnumerator=function(b5){return new _6.New(0,null,function(b6){var b7;b7=b6.s;return b7<b5.length&&(b6.c=b5[b7],b6.s=b7+1,true);},void 0);};_5.Get0=function(b5){return b5 instanceof a.Array?_5.ArrayEnumerator(b5):p.Equals(typeof b5,"string")?_5.StringEnumerator(b5):"GetEnumerator0"in b5?b5.GetEnumerator0():b5.GetEnumerator();};_6=_5.T=b0.Class({MoveNext:function(){return this.n(this);},Current:function(){return this.c;},Dispose:function(){if(this.d)this.d(this);}},e,_6);_6.New=b0.Ctor(function(b5,b6,b7,b8){e.New.call(this);this.s=b5;this.c=b6;this.n=b7;this.d=b8;},_6);_7.$cctor=function(){_7.$cctor=a.ignore;_7.LoadedTemplates=new S.New$5();_7.LocalTemplatesLoaded=false;_7.GlobalHoles=new S.New$5();_7.TextHoleRE="\\${([^}]+)}";_7.RenderedFullDocTemplate=null;};_9.LinkElement=function(b5,b6){_9.InsertDoc(b5,b6,null);};_9.CreateTextNode=function(){return{Text:self.document.createTextNode(""),Dirty:false,Value:""};};_9.UpdateTextNode=function(b5,b6){b5.Value=b6;b5.Dirty=true;};_9.InsertDoc=function(b5,b6,b7){var b8;return b6!=null&&b6.$==1?_9.InsertNode(b5,b6.$0.El,b7):b6!=null&&b6.$==2?(b8=b6.$0,(b8.Dirty=false,_9.InsertDoc(b5,b8.Current,b7))):b6==null?b7:b6!=null&&b6.$==4?_9.InsertNode(b5,b6.$0.Text,b7):b6!=null&&b6.$==5?_9.InsertNode(b5,b6.$0,b7):b6!=null&&b6.$==6?m.foldBack(function(b9,b_){return b9==null||b9.constructor===T?_9.InsertDoc(b5,b9,b_):_9.InsertNode(b5,b9,b_);},b6.$0.Els,b7):_9.InsertDoc(b5,b6.$0,_9.InsertDoc(b5,b6.$1,b7));};_9.CreateRunState=function(b5,b6){return bv.New(bw.get_Empty(),_9.CreateElemNode(b5,_2.EmptyAttr(),b6));};_9.PerformAnimatedUpdate=function(b5,b6,b7){var b8;return bh.get_UseAnimations()?(b8=null,bx.Delay(function(){var b9,b_,b$;b9=bw.FindAll(b7);b_=_9.ComputeChangeAnim(b6,b9);b$=_9.ComputeEnterAnim(b6,b9);return bx.Bind(bh.Play(bh.Append(b_,_9.ComputeExitAnim(b6,b9))),function(){return bx.Bind(_9.SyncElemNodesNextFrame(b5,b6),function(){return bx.Bind(bh.Play(b$),function(){b6.PreviousNodes=b9;return bx.Return(null);});});});})):_9.SyncElemNodesNextFrame(b5,b6);};_9.PerformSyncUpdate=function(b5,b6,b7){var b8;b8=bw.FindAll(b7);_9.SyncElemNode(b5,b6.Top);b6.PreviousNodes=b8;};_9.CreateEmbedNode=function(){return{Current:null,Dirty:false};};_9.UpdateEmbedNode=function(b5,b6){b5.Current=b6;b5.Dirty=true;};_9.InsertBeforeDelim=function(b5,b6){var b7,b8;b7=b5.parentNode;b8=self.document.createTextNode("");b7.insertBefore(b8,b5);_9.LinkPrevElement(b5,b6);return b8;};_9.InsertNode=function(b5,b6,b7){_3.InsertAt(b5,b7,b6);return b6;};_9.CreateElemNode=function(b5,b6,b7){var b8;_9.LinkElement(b5,b7);b8=_2.Insert(b5,b6);return ba.New(b8,b7,null,b5,R.Int(),b0.GetOptional(b8.OnAfterRender));};_9.SyncElemNodesNextFrame=function(b5,b6){function b7(b8){a.requestAnimationFrame(function(){_9.SyncElemNode(b5,b6.Top);b8();});}return bi.BatchUpdatesEnabled()?bx.FromContinuations(function(b8,b9,b_){return b7.apply(null,[b8,b9,b_]);}):(_9.SyncElemNode(b5,b6.Top),bx.Return(null));};_9.ComputeExitAnim=function(b5,b6){return bh.Concat(m.map(function(b7){return _2.GetExitAnim(b7.Attr);},bw.ToArray(bw.Except(b6,bw.Filter(function(b7){return _2.HasExitAnim(b7.Attr);},b5.PreviousNodes)))));};_9.ComputeEnterAnim=function(b5,b6){return bh.Concat(m.map(function(b7){return _2.GetEnterAnim(b7.Attr);},bw.ToArray(bw.Except(b5.PreviousNodes,bw.Filter(function(b7){return _2.HasEnterAnim(b7.Attr);},b6)))));};_9.ComputeChangeAnim=function(b5,b6){var b7;function b8(b9){return _2.HasChangeAnim(b9.Attr);}b7=function(b9){return bw.Filter(b8,b9);};return bh.Concat(m.map(function(b9){return _2.GetChangeAnim(b9.Attr);},bw.ToArray(bw.Intersect(b7(b5.PreviousNodes),b7(b6)))));};_9.SyncElemNode=function(b5,b6){!b5?_9.SyncElement(b6):void 0;_9.Sync(b6.Children);_9.AfterRender(b6);};_9.LinkPrevElement=function(b5,b6){_9.InsertDoc(b5.parentNode,b6,b5);};_9.SyncElement=function(b5){function b6(b7){function b8(b9){var b_,b$;return b9!=null&&b9.$==0?b8(b9.$0)||b8(b9.$1):b9!=null&&b9.$==2?(b_=b9.$0,b_.Dirty||b8(b_.Current)):b9!=null&&b9.$==6&&(b$=b9.$0,b$.Dirty||m.exists(b6,b$.Holes));}return b8(b7.Children);}_2.Sync(b5.El,b5.Attr);b6(b5)?_9.DoSyncElement(b5):void 0;};_9.Sync=function(b5){var b6,b7;if(b5!=null&&b5.$==1)_9.SyncElemNode(false,b5.$0);else if(b5!=null&&b5.$==2)_9.Sync(b5.$0.Current);else if(b5==null);else if(b5!=null&&b5.$==5);else if(b5!=null&&b5.$==4){b6=b5.$0;b6.Dirty?(b6.Text.nodeValue=b6.Value,b6.Dirty=false):void 0;}else if(b5!=null&&b5.$==6){b7=b5.$0;m.iter(function(b8){_9.SyncElemNode(false,b8);},b7.Holes);m.iter(function(b8){_2.Sync(b8[0],b8[1]);},b7.Attrs);_9.AfterRender(b7);}else{_9.Sync(b5.$0);_9.Sync(b5.$1);}};_9.AfterRender=function(b5){var b6;b6=b0.GetOptional(b5.Render);b6!=null&&b6.$==1?(b6.$0(b5.El),b0.SetOptional(b5,"Render",null)):void 0;};_9.DoSyncElement=function(b5){var b6,b7,b8;function b9(b_,b$){var ca,cb;return b_!=null&&b_.$==1?b_.$0.El:b_!=null&&b_.$==2?(ca=b_.$0,ca.Dirty?(ca.Dirty=false,_9.InsertDoc(b6,ca.Current,b$)):b9(ca.Current,b$)):b_==null?b$:b_!=null&&b_.$==4?b_.$0.Text:b_!=null&&b_.$==5?b_.$0:b_!=null&&b_.$==6?(cb=b_.$0,(cb.Dirty?cb.Dirty=false:void 0,m.foldBack(function(cc,cd){return cc==null||cc.constructor===T?b9(cc,cd):cc;},cb.Els,b$))):b9(b_.$0,b9(b_.$1,b$));}b6=b5.El;bQ.Iter((b7=b5.El,function(b_){_3.RemoveNode(b7,b_);}),bQ.Except(bQ.DocChildren(b5),bQ.Children(b5.El,b0.GetOptional(b5.Delimiters))));b9(b5.Children,(b8=b0.GetOptional(b5.Delimiters),b8!=null&&b8.$==1?b8.$0[1]:null));};_.DatePortion=function(b5){var b6;b6=new b2(b5);return(new b2(b6.getFullYear(),b6.getMonth(),b6.getDate())).getTime();};$.$cctor=function(){$.$cctor=a.ignore;$.counter=0;};ba=f.DocElemNode=b0.Class({Equals:function(b5){return this.ElKey===b5.ElKey;},GetHashCode:function(){return this.ElKey;}},null,ba);ba.New=function(b5,b6,b7,b8,b9,b_){var b$;return new ba((b$={Attr:b5,Children:b6,El:b8,ElKey:b9},(b0.SetOptional(b$,"Delimiters",b7),b0.SetOptional(b$,"Render",b_),b$)));};bc.InMemory=function(b5){return new bn.New(b5);};bd=f.Elt=b0.Class({},I,bd);bd.TreeNode=function(b5,b6){var b7,b8;function b9(b_){return b_[1];}b7=bs.Create(b6);return new bd.New$1({$:6,$0:b5},y.Map2Unit((b8=m.map(function(b_){return _2.Updates(b9(b_));},b5.Attrs),bk.TreeReduce(y.Const(),y.Map2Unit,b8)),b7.v),m.get(b5.Els,0),b7);};bd.New=function(b5,b6,b7){var b8,b9;b8=_9.CreateElemNode(b5,b6,b7.docNode);b9=bs.Create(b7.updates);return new bd.New$1({$:1,$0:b8},y.Map2Unit(_2.Updates(b8.Attr),b9.v),b5,b9);};bd.New$1=b0.Ctor(function(b5,b6,b7,b8){I.New.call(this,b5,b6);this.docNode$1=b5;this.updates$1=b6;this.elt=b7;this.rvUpdates=b8;},bd);be.convertTextNode=function(b5){var b6,b7,b8,b9,b_,b$;b6=null;b7=0;b9=b5.textContent;b_=new a.RegExp(H.TextHoleRE(),"g");while(b6=b_.exec(b9),b6!==null){b5.parentNode.insertBefore(self.document.createTextNode(bf.string(b9,{$:1,$0:b7},{$:1,$0:b_.lastIndex-m.get(b6,0).length-1})),b5);b7=b_.lastIndex;b$=self.document.createElement("span");b$.setAttribute("ws-replace",m.get(b6,1).toLowerCase());b5.parentNode.insertBefore(b$,b5);}b_.lastIndex=0;b5.textContent=bf.string(b9,{$:1,$0:b7},null);};be.failNotLoaded=function(b5){b3.warn("Instantiating non-loaded template",b5);};be.fillTextHole=function(b5,b6,b7){var b8;b8=b5.querySelector("[ws-replace]");return p.Equals(b8,null)?(b3.warn("Filling non-existent text hole",b7),null):(b8.parentNode.replaceChild(self.document.createTextNode(b6),b8),{$:1,$0:b8.getAttribute("ws-replace")});};be.removeHolesExcept=function(b5,b6){function b7(b8){H.foreachNotPreserved(b5,"["+b8+"]",function(b9){if(!b6.Contains(b9.getAttribute(b8)))b9.removeAttribute(b8);});}b7("ws-attr");b7("ws-onafterrender");b7("ws-var");H.foreachNotPreserved(b5,"[ws-hole]",function(b8){if(!b6.Contains(b8.getAttribute("ws-hole"))){b8.removeAttribute("ws-hole");while(b8.hasChildNodes())b8.removeChild(b8.lastChild);}});H.foreachNotPreserved(b5,"[ws-replace]",function(b8){if(!b6.Contains(b8.getAttribute("ws-replace")))b8.parentNode.removeChild(b8);});H.foreachNotPreserved(b5,"[ws-on]",function(b8){b8.setAttribute("ws-on",br.concat(" ",m.filter(function(b9){return b6.Contains(m.get(br.SplitChars(b9,[":"],1),1));},br.SplitChars(b8.getAttribute("ws-on"),[" "],1))));});H.foreachNotPreserved(b5,"[ws-attr-holes]",function(b8){var b9,b_,b$,ca,cb;b9=br.SplitChars(b8.getAttribute("ws-attr-holes"),[" "],1);for(b_=0,b$=b9.length-1;b_<=b$;b_++){ca=m.get(b9,b_);b8.setAttribute(ca,(cb=new a.RegExp(H.TextHoleRE(),"g"),b8.getAttribute(ca).replace(cb,function(cc,cd){return b6.Contains(cd)?cc:"";})));}});};be.fillInstanceAttrs=function(b5,b6){var b7,b8,b9,b_,b$;be.convertAttrs(b6);b7=b6.nodeName.toLowerCase();b8=b5.querySelector("[ws-attr="+b7+"]");if(p.Equals(b8,null))b3.warn("Filling non-existent attr hole",b7);else{b8.removeAttribute("ws-attr");for(b9=0,b_=b6.attributes.length-1;b9<=b_;b9++){b$=b6.attributes.item(b9);b$.name==="class"&&b8.hasAttribute("class")?b8.setAttribute("class",b8.getAttribute("class")+" "+b$.nodeValue):b8.setAttribute(b$.name,b$.nodeValue);}}};be.mapHoles=function(b5,b6){function b7(b8){H.foreachNotPreserved(b5,"["+b8+"]",function(b9){var b_,b$;b_=(b$=null,[b6.TryGetValue(b9.getAttribute(b8).toLowerCase(),{get:function(){return b$;},set:function(ca){b$=ca;}}),b$]);b_[0]?b9.setAttribute(b8,b_[1]):void 0;});}b7("ws-hole");b7("ws-replace");b7("ws-attr");b7("ws-onafterrender");b7("ws-var");H.foreachNotPreserved(b5,"[ws-on]",function(b8){b8.setAttribute("ws-on",br.concat(" ",m.map(function(b9){var b_,b$,ca;b_=br.SplitChars(b9,[":"],1);b$=(ca=null,[b6.TryGetValue(m.get(b_,1),{get:function(){return ca;},set:function(cb){ca=cb;}}),ca]);return b$[0]?m.get(b_,0)+":"+b$[1]:b9;},br.SplitChars(b8.getAttribute("ws-on"),[" "],1))));});H.foreachNotPreserved(b5,"[ws-attr-holes]",function(b8){var b9,b_,b$;b9=br.SplitChars(b8.getAttribute("ws-attr-holes"),[" "],1);for(b_=0,b$=b9.length-1;b_<=b$;b_++)(function(){var ca;function cb(cc,cd){var ce;ce=h.KeyValue(cd);return cc.replace(new a.RegExp("\\${"+ce[0]+"}","ig"),"${"+ce[1]+"}");}ca=m.get(b9,b_);return b8.setAttribute(ca,(((b0.Curried3(X.fold))(cb))(b8.getAttribute(ca)))(b6));}());});};be.fill=function(b5,b6,b7){while(true)if(b5.hasChildNodes())b7=b6.insertBefore(b5.lastChild,b7);else return null;};be.convertAttrs=function(b5){var b7,b8,b9,b_,b$,ca,cb,cc;function b6(cd){var ce;ce=b5.getAttribute(cd);ce===null?void 0:b5.setAttribute(cd,ce.toLowerCase());}b7=b5.attributes;b8=[];b9=[];b_=[];for(b$=0,ca=b7.length-1;b$<=ca;b$++){cb=b7.item(b$);br.StartsWith(cb.nodeName,"ws-on")&&cb.nodeName!=="ws-onafterrender"&&cb.nodeName!=="ws-on"?(b8.push(cb.nodeName),b9.push(bf.string(cb.nodeName,{$:1,$0:"ws-on".length},null)+":"+cb.nodeValue.toLowerCase())):!br.StartsWith(cb.nodeName,"ws-")&&(new a.RegExp(H.TextHoleRE())).test(cb.nodeValue)?(cb.nodeValue=(cc=new a.RegExp(H.TextHoleRE(),"g"),cb.nodeValue.replace(cc,function(cd,ce){return"${"+ce.toLowerCase()+"}";})),b_.push(cb.nodeName)):void 0;}!(b9.length==0)?b5.setAttribute("ws-on",br.concat(" ",b9)):void 0;!(b_.length==0)?b5.setAttribute("ws-attr-holes",br.concat(" ",b_)):void 0;b6("ws-hole");b6("ws-replace");b6("ws-attr");b6("ws-onafterrender");b6("ws-var");m.iter(function(cd){b5.removeAttribute(cd);},b8);};bf.string=function(b5,b6,b7){return b6==null?b7!=null&&b7.$==1?b5.slice(0,b7.$0+1):"":b7==null?b5.slice(b6.$0):b5.slice(b6.$0,b7.$0+1);};X.insufficient=function(){return h.FailWith("The input sequence has an insufficient number of elements.");};bg=D.KeyCollection=b0.Class({GetEnumerator$1:function(){return _5.Get(X.map(function(b5){return b5.K;},this.d));},GetEnumerator:function(){return this.GetEnumerator$1();},GetEnumerator0:function(){return this.GetEnumerator$1();}},e,bg);bg.New=b0.Ctor(function(b5){e.New.call(this);this.d=b5;},bg);bh.get_UseAnimations=function(){return by.UseAnimations();};bh.Play=function(b5){var b6;b6=null;return bx.Delay(function(){return bx.Bind(bh.Run(a.ignore,by.Actions(b5)),function(){by.Finalize(b5);return bx.Return(null);});});};bh.Append=function(b5,b6){return{$:0,$0:bF.Append(b5.$0,b6.$0)};};bh.Run=function(b5,b6){var b7;function b8(b9){function b_(b$,ca){var cb;cb=ca-b$;b6.Compute(cb);b5();return cb<=b7?void a.requestAnimationFrame(function(cc){b_(b$,cc);}):b9();}a.requestAnimationFrame(function(b$){b_(b$,b$);});}b7=b6.Duration;return b7===0?bx.Zero():bx.FromContinuations(function(b9,b_,b$){return b8.apply(null,[b9,b_,b$]);});};bh.Concat=function(b5){return{$:0,$0:bF.Concat(X.map(by.List,b5))};};bh.get_Empty=function(){return{$:0,$0:bF.Empty()};};bi.BatchUpdatesEnabled=function(){bz.$cctor();return bz.BatchUpdatesEnabled;};bj.StartProcessor=function(b5){var b6;function b7(){var b8;b8=null;return bx.Delay(function(){return bx.Bind(b5,function(){var b9;b9=b6[0];return b9===1?(b6[0]=0,bx.Zero()):b9===2?(b6[0]=1,b7()):bx.Zero();});});}b6=[0];return function(){var b8;b8=b6[0];b8===0?(b6[0]=1,bx.Start(b7(),null)):b8===1?b6[0]=2:void 0;};};bk.ofSeqNonCopying=function(b5){var b6,b7;if(b5 instanceof a.Array)return b5;else if(b5 instanceof bq)return m.ofList(b5);else if(b5===null)return[];else{b6=[];b7=_5.Get(b5);try{while(b7.MoveNext())b6.push(b7.Current());return b6;}finally{if(typeof b7=="object"&&"Dispose"in b7)b7.Dispose();}}};bk.TreeReduce=function(b5,b6,b7){var b8;function b9(b_,b$){var ca,cb;return b$<=0?b5:b$===1&&(b_>=0&&b_<b8)?m.get(b7,b_):(cb=b$/2>>0,b6(b9(b_,cb),b9(b_+cb,b$-cb)));}b8=m.length(b7);return b9(0,b8);};bk.mapInPlace=function(b5,b6){var b7,b8;for(b7=0,b8=b6.length-1;b7<=b8;b7++)b6[b7]=b5(b6[b7]);return b6;};bk.MapTreeReduce=function(b5,b6,b7,b8){var b9;function b_(b$,ca){var cb,cc;return ca<=0?b6:ca===1&&(b$>=0&&b$<b9)?b5(m.get(b8,b$)):(cc=ca/2>>0,b7(b_(b$,cc),b_(b$+cc,ca-cc)));}b9=m.length(b8);return b_(0,b9);};bm.New=function(b5,b6,b7,b8){var b9;b9={DynElem:b5,DynFlags:b6,DynNodes:b7};b0.SetOptional(b9,"OnAfterRender",b8);return b9;};bn=bc.ArrayStorage=b0.Class({SSetAt:function(b5,b6,b7){m.set(b7,b5,b6);return b7;},SAppend:function(b5,b6){b6.push(b5);return b6;},SInit:function(){return this.init;}},e,bn);bn.New=b0.Ctor(function(b5){e.New.call(this);this.init=b5;},bn);bo.Handler=function(b5,b6){return _2.Static(function(b7){b7.addEventListener(b5,function(b8){return(b6(b7))(b8);},false);});};bo.OnAfterRender=function(b5){return new L({$:4,$0:b5});};bo.Value=function(b5){var b6;b6=(((bC.StringApply())(b5))(_2.Static))(function(b7){return bo.DynamicCustom(b7,b5.get_View());});return L.Append(b6[0],b6[1]);};bo.Checked=function(b5){var b6;b6=(((bC.BoolCheckedApply())(b5))(_2.Static))(function(b7){return bo.DynamicCustom(b7,b5.get_View());});return L.Append(b6[0],b6[1]);};bo.IntValue=function(b5){var b6;b6=(((bC.IntApplyChecked())(b5))(_2.Static))(function(b7){return bo.DynamicCustom(b7,b5.get_View());});return L.Append(b6[0],b6[1]);};bo.IntValueUnchecked=function(b5){var b6;b6=(((bC.IntApplyUnchecked())(b5))(_2.Static))(function(b7){return bo.DynamicCustom(b7,b5.get_View());});return L.Append(b6[0],b6[1]);};bo.FloatValue=function(b5){var b6;b6=(((bC.FloatApplyChecked())(b5))(_2.Static))(function(b7){return bo.DynamicCustom(b7,b5.get_View());});return L.Append(b6[0],b6[1]);};bo.FloatValueUnchecked=function(b5){var b6;b6=(((bC.FloatApplyUnchecked())(b5))(_2.Static))(function(b7){return bo.DynamicCustom(b7,b5.get_View());});return L.Append(b6[0],b6[1]);};bo.Dynamic=function(b5,b6){return _2.Dynamic(b6,function(b7){return function(b8){return b7.setAttribute(b5,b8);};});};bo.DynamicCustom=function(b5,b6){return _2.Dynamic(b6,b5);};bq=bp.T=b0.Class({GetEnumerator:function(){return new _6.New(this,null,function(b5){var b6;b6=b5.s;return b6.$==0?false:(b5.c=b6.$0,b5.s=b6.$1,true);},void 0);},GetEnumerator0:function(){return _5.Get(this);}},null,bq);bq.Empty=new bq({$:0});br.concat=function(b5,b6){return m.ofSeq(b6).join(b5);};br.SplitChars=function(b5,b6,b7){return br.Split(b5,new a.RegExp("["+br.RegexEscape(b6.join(""))+"]"),b7);};br.StartsWith=function(b5,b6){return b5.substring(0,b6.length)==b6;};br.Split=function(b5,b6,b7){return b7===1?m.filter(function(b8){return b8!=="";},br.SplitWith(b5,b6)):br.SplitWith(b5,b6);};br.RegexEscape=function(b5){return b5.replace(new a.RegExp("[-\\/\\\\^$*+?.()|[\\]{}]","g"),"\\$&");};br.SplitWith=function(b5,b6){return b5.split(b6);};br.forall=function(b5,b6){return X.forall(b5,br.protect(b6));};br.protect=function(b5){return b5===null?"":b5;};bs=f.Updates=b0.Class({},null,bs);bs.Create=function(b5){var b6;b6=null;b6=bs.New(b5,null,function(){var b7;b7=b6.s;return b7===null?(b7=A.Copy(b6.c()),b6.s=b7,A.WhenObsoleteRun(b7,function(){b6.s=null;}),b7):b7;});return b6;};bs.New=function(b5,b6,b7){return new bs({c:b5,s:b6,v:b7});};bt=D.ValueCollection=b0.Class({GetEnumerator$1:function(){return _5.Get(X.map(function(b5){return b5.V;},this.d));},GetEnumerator:function(){return this.GetEnumerator$1();},GetEnumerator0:function(){return this.GetEnumerator$1();}},e,bt);bt.New=b0.Ctor(function(b5){e.New.call(this);this.d=b5;},bt);bv.New=function(b5,b6){return{PreviousNodes:b5,Top:b6};};bw.get_Empty=function(){return{$:0,$0:new W.New$3()};};bw.FindAll=function(b5){var b6;function b7(b9){if(b9!=null&&b9.$==0){b7(b9.$0);b7(b9.$1);}else if(b9!=null&&b9.$==1)b8(b9.$0);else if(b9!=null&&b9.$==2)b7(b9.$0.Current);else if(b9!=null&&b9.$==6)m.iter(b8,b9.$0.Holes);}function b8(b9){b6.push(b9);b7(b9.Children);}b6=[];b7(b5);return{$:0,$0:new W.New$2(b6)};};bw.Filter=function(b5,b6){return{$:0,$0:bN.Filter(b5,b6.$0)};};bw.Except=function(b5,b6){return{$:0,$0:bN.Except(b5.$0,b6.$0)};};bw.ToArray=function(b5){return bN.ToArray(b5.$0);};bw.Intersect=function(b5,b6){return{$:0,$0:bN.Intersect(b5.$0,b6.$0)};};bx.Delay=function(b5){return function(b6){try{(b5(null))(b6);}catch(b7){b6.k({$:1,$0:b7});}};};bx.Bind=function(b5,b6){return bx.checkCancel(function(b7){b5(bK.New(function(b8){var b9;if(b8.$==0){b9=b8.$0;bx.scheduler().Fork(function(){try{(b6(b9))(b7);}catch(b_){b7.k({$:1,$0:b_});}});}else bx.scheduler().Fork(function(){b7.k(b8);});},b7.ct));});};bx.Zero=function(){bL.$cctor();return bL.Zero;};bx.Start=function(b5,b6){var b7,b8;b7=(b8=(bx.defCTS())[0],b6==null?b8:b6.$0);bx.scheduler().Fork(function(){if(!b7.c)b5(bK.New(function(b9){if(b9.$==1)bx.UncaughtAsyncError(b9.$0);},b7));});};bx.Return=function(b5){return function(b6){b6.k({$:0,$0:b5});};};bx.scheduler=function(){bL.$cctor();return bL.scheduler;};bx.checkCancel=function(b5){return function(b6){if(b6.ct.c)bx.cancel(b6);else b5(b6);};};bx.defCTS=function(){bL.$cctor();return bL.defCTS;};bx.UncaughtAsyncError=function(b5){b3.log("WebSharper: Uncaught asynchronous exception",b5);};bx.FromContinuations=function(b5){return function(b6){var b7;function b8(b9){if(b7[0])h.FailWith("A continuation provided by Async.FromContinuations was invoked multiple times");else{b7[0]=true;bx.scheduler().Fork(b9);}}b7=[false];b5(function(b9){b8(function(){b6.k({$:0,$0:b9});});},function(b9){b8(function(){b6.k({$:1,$0:b9});});},function(b9){b8(function(){b6.k({$:2,$0:b9});});});};};bx.cancel=function(b5){b5.k({$:2,$0:new bT.New(b5.ct)});};by.UseAnimations=function(){bE.$cctor();return bE.UseAnimations;};by.Actions=function(b5){return by.ConcatActions(m.choose(function(b6){return b6.$==1?{$:1,$0:b6.$0}:null;},bF.ToArray(b5.$0)));};by.Finalize=function(b5){m.iter(function(b6){if(b6.$==0)b6.$0();},bF.ToArray(b5.$0));};by.ConcatActions=function(b5){var b6,b7,b8,b9;b6=bk.ofSeqNonCopying(b5);b7=m.length(b6);return b7===0?by.Const():b7===1?m.get(b6,0):(b8=X.max(X.map(function(b_){return b_.Duration;},b6)),(b9=m.map(function(b_){return by.Prolong(b8,b_);},b6),by.Def(b8,function(b_){m.iter(function(b$){b$.Compute(b_);},b9);})));};by.List=function(b5){return b5.$0;};by.Const=function(b5){return by.Def(0,function(){return b5;});};by.Def=function(b5,b6){return{Compute:b6,Duration:b5};};by.Prolong=function(b5,b6){var b7,b8,b9;b7=b6.Compute;b8=b6.Duration;b9=bU.Create(function(){return b6.Compute(b6.Duration);});return{Compute:function(b_){return b_>=b8?b9.f():b7(b_);},Duration:b5};};bz.$cctor=function(){bz.$cctor=a.ignore;bz.BatchUpdatesEnabled=true;};bA.Clear=function(b5){b5.splice(0,m.length(b5));};bB.concat=function(b5){var b6,b7;b6=[];for(var b8 in b5)b6.push.apply(b6,b5[b8]);return b6;};bC.StringApply=function(){bG.$cctor();return bG.StringApply;};bC.BoolCheckedApply=function(){bG.$cctor();return bG.BoolCheckedApply;};bC.IntApplyChecked=function(){bG.$cctor();return bG.IntApplyChecked;};bC.IntApplyUnchecked=function(){bG.$cctor();return bG.IntApplyUnchecked;};bC.FloatApplyChecked=function(){bG.$cctor();return bG.FloatApplyChecked;};bC.FloatApplyUnchecked=function(){bG.$cctor();return bG.FloatApplyUnchecked;};bC.ApplyValue=function(b5,b6,b7,b8,b9){return[b8(function(b_){function b$(){b7.UpdateMaybe(function(ca){var cb,cc;cb=b5(b_);return cb!=null&&cb.$==1&&(!p.Equals(cb.$0,ca)&&(cc=[cb,cb.$0],true))?cc[0]:null;});}b_.addEventListener("change",b$);b_.addEventListener("input",b$);b_.addEventListener("keypress",b$);}),b9(function(b_){return function(b$){var ca,cb;ca=b5(b_);return ca!=null&&ca.$==1&&(p.Equals(ca.$0,b$)&&(cb=ca.$0,true))?null:b6(b_,b$);};})];};bC.StringSet=function(){bG.$cctor();return bG.StringSet;};bC.StringGet=function(){bG.$cctor();return bG.StringGet;};bC.IntSetUnchecked=function(){bG.$cctor();return bG.IntSetUnchecked;};bC.IntGetUnchecked=function(){bG.$cctor();return bG.IntGetUnchecked;};bC.IntSetChecked=function(){bG.$cctor();return bG.IntSetChecked;};bC.IntGetChecked=function(){bG.$cctor();return bG.IntGetChecked;};bC.FloatSetUnchecked=function(){bG.$cctor();return bG.FloatSetUnchecked;};bC.FloatGetUnchecked=function(){bG.$cctor();return bG.FloatGetUnchecked;};bC.FloatSetChecked=function(){bG.$cctor();return bG.FloatSetChecked;};bC.FloatGetChecked=function(){bG.$cctor();return bG.FloatGetChecked;};bD.$cctor=function(){var b5;bD.$cctor=a.ignore;bD.rxhtmlTag=new a.RegExp("<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>","gi");bD.rtagName=new a.RegExp("<([\\w:]+)");bD.rhtml=new a.RegExp("<|&#?\\w+;");bD.wrapMap=(b5=[1,"<table>","</table>"],{option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:b5,tbody:b5,tfoot:b5,tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><colgroup>","</colgoup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"]});bD.defaultWrap=[0,"",""];};bE.$cctor=function(){bE.$cctor=a.ignore;bE.CubicInOut=bJ.Custom(function(b5){var b6;b6=b5*b5;return 3*b6-2*(b6*b5);});bE.UseAnimations=true;};bF.Append=function(b5,b6){return b5.$==0?b6:b6.$==0?b5:{$:2,$0:b5,$1:b6};};bF.ToArray=function(b5){var b6;function b7(b8){if(b8.$==1)b6.push(b8.$0);else if(b8.$==2){b7(b8.$0);b7(b8.$1);}else if(b8.$==3)m.iter(function(b9){b6.push(b9);},b8.$0);}b6=[];b7(b5);return b6.slice(0);};bF.Concat=function(b5){var b6;b6=bk.ofSeqNonCopying(b5);return bk.TreeReduce(bF.Empty(),bF.Append,b6);};bF.Empty=function(){bV.$cctor();return bV.Empty;};bp.head=function(b5){return b5.$==1?b5.$0:bp.listEmpty();};bp.tail=function(b5){return b5.$==1?b5.$1:bp.listEmpty();};bp.listEmpty=function(){return h.FailWith("The input list was empty.");};bG.$cctor=function(){var b5,b6,b7,b8,b9,b_,b$,ca,cb,cc;bG.$cctor=a.ignore;bG.EmptyAttr=null;bG.BoolCheckedApply=b0.Curried3(function(cd,ce,cf){return[ce(function(cg){cg.addEventListener("change",function(){return!p.Equals(cd.Get(),cg.checked)?cd.Set(cg.checked):null;});}),cf(function(cg){return function(ch){cg.checked=ch;};})];});bG.StringSet=function(cd){return function(ce){cd.value=ce;};};bG.StringGet=function(cd){return{$:1,$0:cd.value};};bG.StringApply=(b5=bC.StringGet(),(b6=bC.StringSet(),b0.Curried(bC.ApplyValue,3,[b5,function(cd,ce){return(b6(cd))(ce);}])));bG.IntSetUnchecked=function(cd){return function(ce){cd.value=a.String(ce);};};bG.IntGetUnchecked=function(cd){var ce,cf;ce=cd.value;return bO.isBlank(ce)?{$:1,$0:0}:(cf=+ce,cf!==cf>>0?null:{$:1,$0:cf});};bG.IntApplyUnchecked=(b7=bC.IntGetUnchecked(),(b8=bC.IntSetUnchecked(),b0.Curried(bC.ApplyValue,3,[b7,function(cd,ce){return(b8(cd))(ce);}])));bG.IntSetChecked=function(cd){return function(ce){var cf;cf=ce.get_Input();return cd.value!==cf?void(cd.value=cf):null;};};bG.IntGetChecked=function(cd){var ce,cf,cg;ce=cd.value;return{$:1,$0:bO.isBlank(ce)?(cd.checkValidity?cd.checkValidity():true)?new U({$:2,$0:ce}):new U({$:1,$0:ce}):(cf=(cg=0,[V.TryParseInt32(ce,{get:function(){return cg;},set:function(ch){cg=ch;}}),cg]),cf[0]?new U({$:0,$0:cf[1],$1:ce}):new U({$:1,$0:ce}))};};bG.IntApplyChecked=(b9=bC.IntGetChecked(),(b_=bC.IntSetChecked(),b0.Curried(bC.ApplyValue,3,[b9,function(cd,ce){return(b_(cd))(ce);}])));bG.FloatSetUnchecked=function(cd){return function(ce){cd.value=a.String(ce);};};bG.FloatGetUnchecked=function(cd){var ce,cf;ce=cd.value;return bO.isBlank(ce)?{$:1,$0:0}:(cf=+ce,a.isNaN(cf)?null:{$:1,$0:cf});};bG.FloatApplyUnchecked=(b$=bC.FloatGetUnchecked(),(ca=bC.FloatSetUnchecked(),b0.Curried(bC.ApplyValue,3,[b$,function(cd,ce){return(ca(cd))(ce);}])));bG.FloatSetChecked=function(cd){return function(ce){var cf;cf=ce.get_Input();return cd.value!==cf?void(cd.value=cf):null;};};bG.FloatGetChecked=function(cd){var ce,cf;ce=cd.value;return{$:1,$0:bO.isBlank(ce)?(cd.checkValidity?cd.checkValidity():true)?new U({$:2,$0:ce}):new U({$:1,$0:ce}):(cf=+ce,a.isNaN(cf)?new U({$:1,$0:ce}):new U({$:0,$0:cf,$1:ce}))};};bG.FloatApplyChecked=(cb=bC.FloatGetChecked(),(cc=bC.FloatSetChecked(),b0.Curried(bC.ApplyValue,3,[cb,function(cd,ce){return(cc(cd))(ce);}])));};bH=f.DynamicAttrNode=b0.Class({NChanged:function(){return this.updates;},NGetExitAnim:function(b5){return bh.get_Empty();},NGetEnterAnim:function(b5){return bh.get_Empty();},NGetChangeAnim:function(b5){return bh.get_Empty();},NSync:function(b5){if(this.dirty){(this.push(b5))(this.value);this.dirty=false;}}},e,bH);bH.New=b0.Ctor(function(b5,b6){var b7;b7=this;e.New.call(this);this.push=b6;this.value=void 0;this.dirty=false;this.updates=y.Map(function(b8){b7.value=b8;b7.dirty=true;},b5);},bH);bI=bx.Scheduler=b0.Class({Fork:function(b5){var b6;b6=this;this.robin.push(b5);this.idle?(this.idle=false,a.setTimeout(function(){b6.tick();},0)):void 0;},tick:function(){var b5,b6,b7;b6=this;b7=b2.now();b5=true;while(b5)if(this.robin.length===0){this.idle=true;b5=false;}else{(this.robin.shift())();b2.now()-b7>40?(a.setTimeout(function(){b6.tick();},0),b5=false):void 0;}}},e,bI);bI.New=b0.Ctor(function(){e.New.call(this);this.idle=true;this.robin=[];},bI);bJ=f.Easing=b0.Class({},e,bJ);bJ.Custom=function(b5){return new bJ.New(b5);};bJ.New=b0.Ctor(function(b5){e.New.call(this);this.transformTime=b5;},bJ);bK.New=function(b5,b6){return{k:b5,ct:b6};};bL.$cctor=function(){bL.$cctor=a.ignore;bL.noneCT=bM.New(false,[]);bL.scheduler=new bI.New();bL.defCTS=[new bP.New()];bL.Zero=bx.Return();bL.GetCT=function(b5){b5.k({$:0,$0:b5.ct});};};bM.New=function(b5,b6){return{c:b5,r:b6};};bN.Filter=function(b5,b6){return new W.New$2(m.filter(b5,bN.ToArray(b6)));};bN.Except=function(b5,b6){var b7;b7=new W.New$2(bN.ToArray(b6));b7.ExceptWith(bN.ToArray(b5));return b7;};bN.ToArray=function(b5){var b6;b6=m.create(b5.get_Count(),void 0);b5.CopyTo(b6);return b6;};bN.Intersect=function(b5,b6){var b7;b7=new W.New$2(bN.ToArray(b5));b7.IntersectWith(bN.ToArray(b6));return b7;};bO.isBlank=function(b5){return br.forall(bR.IsWhiteSpace,b5);};bP=d.CancellationTokenSource=b0.Class({},e,bP);bP.New=b0.Ctor(function(){e.New.call(this);this.c=false;this.pending=null;this.r=[];this.init=1;},bP);bQ.Children=function(b5,b6){var b7,b8,b9;if(b6!=null&&b6.$==1){b9=[];b7=b6.$0[0].nextSibling;while(b7!==b6.$0[1]){b9.push(b7);b7=b7.nextSibling;}return{$:0,$0:b9};}else return{$:0,$0:m.init(b5.childNodes.length,(b8=b5.childNodes,function(b_){return b8[b_];}))};};bQ.Except=function(b5,b6){var b7;b7=b5.$0;return{$:0,$0:m.filter(function(b8){return m.forall(function(b9){return!(b8===b9);},b7);},b6.$0)};};bQ.Iter=function(b5,b6){m.iter(b5,b6.$0);};bQ.DocChildren=function(b5){var b6;function b7(b8){if(b8!=null&&b8.$==2)b7(b8.$0.Current);else if(b8!=null&&b8.$==1)b6.push(b8.$0.El);else if(b8==null);else if(b8!=null&&b8.$==5)b6.push(b8.$0);else if(b8!=null&&b8.$==4)b6.push(b8.$0.Text);else if(b8!=null&&b8.$==6)m.iter(function(b9){if(b9==null||b9.constructor===T)b7(b9);else b6.push(b9);},b8.$0.Els);else{b7(b8.$0);b7(b8.$1);}}b6=[];b7(b5.Children);return{$:0,$0:bk.ofSeqNonCopying(b6)};};bR.IsWhiteSpace=function(b5){return b5.match(new a.RegExp("\\s"))!==null;};V.TryParse=function(b5,b6,b7,b8){var b9,b_;b9=+b5;b_=b9===b9-b9%1&&b9>=b6&&b9<=b7;b_?b8.set(b9):void 0;return b_;};bT=d.OperationCanceledException=b0.Class({},bS,bT);bT.New=b0.Ctor(function(b5){bT.New$1.call(this,"The operation was canceled.",null,b5);},bT);bT.New$1=b0.Ctor(function(b5,b6,b7){this.message=b5;this.inner=b6;T.setPrototypeOf(this,bT.prototype);this.ct=b7;},bT);bU.Create=function(b5){return bX.New(false,b5,bU.forceLazy);};bU.forceLazy=function(){var b5;b5=this.v();this.c=true;this.v=b5;this.f=bU.cachedLazy;return b5;};bU.cachedLazy=function(){return this.v;};bV.$cctor=function(){bV.$cctor=a.ignore;bV.Empty={$:0};};bX.New=function(b5,b6,b7){return{c:b5,v:b6,f:b7};};b0.OnLoad(function(){c.Main();});}());


if (typeof IntelliFactory !=='undefined') {
  IntelliFactory.Runtime.ScriptBasePath = '/Content/';
  IntelliFactory.Runtime.Start();
}
